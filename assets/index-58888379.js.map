{"version":3,"file":"index-58888379.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/components/Sidebar.tsx","../../src/contexts/ThemeContext.tsx","../../src/components/ThemeSettings.tsx","../../src/services/backendApi.ts","../../components/RemindersBar.tsx","../../components/TodoItem.tsx","../../components/MiniCalendarDatePicker.tsx","../../components/TodoList.tsx","../../constants.ts","../../hooks/useGoogleAuth.ts","../../services/googleCalendarService.ts","../../components/TaskCalendar.tsx","../../components/FocusTip.tsx","../../utils/dateUtils.ts","../../components/WeeklyProgressReward.tsx","../../components/Checklist.tsx","../../hooks/useLocalStorage.ts","../../components/Assistant.tsx","../../types.ts","../../components/Modal.tsx","../../components/PomodoroTimer.tsx","../../components/HelpSection.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { ActiveView } from '../types';\r\n\r\ninterface SidebarProps {\r\n  activeView: ActiveView;\r\n  setActiveView: (view: ActiveView) => void;\r\n  onSettingsClick: () => void;\r\n}\r\n\r\nconst Sidebar: React.FC<SidebarProps> = ({ activeView, setActiveView, onSettingsClick }) => {\r\n  const menuItems = [\r\n    { id: 'calendar', label: '–ö–∞–ª–µ–Ω–¥–∞—Ä—å', icon: 'üìÖ' },\r\n    { id: 'tasks', label: '–ó–∞–¥–∞—á–∏', icon: '‚úÖ' },\r\n    { id: 'assistant', label: '–ü–æ–º–æ—â–Ω–∏–∫', icon: 'ü§ñ' },\r\n    { id: 'pomodoro', label: '–ü–æ–º–æ–¥–æ—Ä–æ', icon: '‚è±Ô∏è' },\r\n    { id: 'checklist', label: '–ß–µ–∫-–ª–∏—Å—Ç—ã', icon: 'üìã' },\r\n    { id: 'help', label: '–ü–æ–º–æ—â—å', icon: '‚ùì' },\r\n  ];\r\n\r\n  return (\r\n    <motion.aside\r\n      initial={{ x: -100, opacity: 0 }}\r\n      animate={{ x: 0, opacity: 1 }}\r\n      className=\"w-64 bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 flex flex-col\"\r\n    >\r\n      <div className=\"p-4 border-b border-slate-200 dark:border-slate-700\">\r\n        <h1 className=\"text-xl font-bold text-primary-600 dark:text-primary-400\">\r\n          ADHD Workflow\r\n        </h1>\r\n      </div>\r\n\r\n      <nav className=\"flex-1 p-4 space-y-2\">\r\n        {menuItems.map((item) => (\r\n          <motion.button\r\n            key={item.id}\r\n            onClick={() => setActiveView(item.id as ActiveView)}\r\n            className={`w-full flex items-center gap-3 px-4 py-2 rounded-lg transition-colors ${\r\n              activeView === item.id\r\n                ? 'bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400'\r\n                : 'hover:bg-slate-100 dark:hover:bg-slate-700'\r\n            }`}\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n          >\r\n            <span className=\"text-xl\">{item.icon}</span>\r\n            <span>{item.label}</span>\r\n          </motion.button>\r\n        ))}\r\n      </nav>\r\n\r\n      <div className=\"p-4 border-t border-slate-200 dark:border-slate-700\">\r\n        <motion.button\r\n          onClick={onSettingsClick}\r\n          className=\"w-full flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors\"\r\n          whileHover={{ scale: 1.02 }}\r\n          whileTap={{ scale: 0.98 }}\r\n        >\r\n          <span className=\"text-xl\">‚öôÔ∏è</span>\r\n          <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>\r\n        </motion.button>\r\n      </div>\r\n    </motion.aside>\r\n  );\r\n};\r\n\r\nexport default Sidebar;","import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { ThemeSettings, ColorScheme, InterfaceSettings } from '../types';\r\n\r\nconst defaultColorSchemes: ColorScheme[] = [\r\n  {\r\n    name: 'Default',\r\n    primary: '#0ea5e9',\r\n    secondary: '#64748b',\r\n    accent: '#f59e0b',\r\n    background: '#ffffff',\r\n    text: '#1e293b',\r\n  },\r\n  {\r\n    name: 'Ocean',\r\n    primary: '#0891b2',\r\n    secondary: '#475569',\r\n    accent: '#06b6d4',\r\n    background: '#f8fafc',\r\n    text: '#0f172a',\r\n  },\r\n  {\r\n    name: 'Forest',\r\n    primary: '#059669',\r\n    secondary: '#4b5563',\r\n    accent: '#10b981',\r\n    background: '#f0fdf4',\r\n    text: '#064e3b',\r\n  },\r\n];\r\n\r\nconst defaultSettings: ThemeSettings = {\r\n  mode: 'system',\r\n  colorScheme: defaultColorSchemes[0],\r\n  interface: {\r\n    fontSize: 'medium',\r\n    spacing: 'comfortable',\r\n    borderRadius: 'medium',\r\n    animations: true,\r\n    reducedMotion: false,\r\n  },\r\n};\r\n\r\ninterface ThemeContextType {\r\n  settings: ThemeSettings;\r\n  updateSettings: (settings: Partial<ThemeSettings>) => void;\r\n  colorSchemes: ColorScheme[];\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport const ThemeProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [settings, setSettings] = useState<ThemeSettings>(() => {\r\n    const saved = localStorage.getItem('themeSettings');\r\n    return saved ? JSON.parse(saved) : defaultSettings;\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('themeSettings', JSON.stringify(settings));\r\n    \r\n    // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–º—ã\r\n    document.documentElement.classList.remove('light', 'dark');\r\n    if (settings.mode === 'system') {\r\n      const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n      document.documentElement.classList.add(systemDark ? 'dark' : 'light');\r\n    } else {\r\n      document.documentElement.classList.add(settings.mode);\r\n    }\r\n\r\n    // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞\r\n    document.documentElement.style.setProperty('--font-size', getFontSize(settings.interface.fontSize));\r\n    document.documentElement.style.setProperty('--spacing', getSpacing(settings.interface.spacing));\r\n    document.documentElement.style.setProperty('--border-radius', getBorderRadius(settings.interface.borderRadius));\r\n    \r\n    if (settings.interface.reducedMotion) {\r\n      document.documentElement.classList.add('reduced-motion');\r\n    } else {\r\n      document.documentElement.classList.remove('reduced-motion');\r\n    }\r\n  }, [settings]);\r\n\r\n  const updateSettings = (newSettings: Partial<ThemeSettings>) => {\r\n    setSettings(prev => ({ ...prev, ...newSettings }));\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ settings, updateSettings, colorSchemes: defaultColorSchemes }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTheme = () => {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏\r\nconst getFontSize = (size: InterfaceSettings['fontSize']) => {\r\n  switch (size) {\r\n    case 'small': return '14px';\r\n    case 'large': return '18px';\r\n    default: return '16px';\r\n  }\r\n};\r\n\r\nconst getSpacing = (spacing: InterfaceSettings['spacing']) => {\r\n  switch (spacing) {\r\n    case 'compact': return '0.75rem';\r\n    case 'spacious': return '1.5rem';\r\n    default: return '1rem';\r\n  }\r\n};\r\n\r\nconst getBorderRadius = (radius: InterfaceSettings['borderRadius']) => {\r\n  switch (radius) {\r\n    case 'none': return '0';\r\n    case 'small': return '0.25rem';\r\n    case 'large': return '1rem';\r\n    default: return '0.5rem';\r\n  }\r\n};","import React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\nimport { ThemeMode, InterfaceSettings } from '../types';\r\n\r\nexport const ThemeSettings: React.FC = () => {\r\n  const { settings, updateSettings, colorSchemes } = useTheme();\r\n\r\n  const handleModeChange = (mode: ThemeMode) => {\r\n    updateSettings({ mode });\r\n  };\r\n\r\n  const handleColorSchemeChange = (scheme: typeof colorSchemes[0]) => {\r\n    updateSettings({ colorScheme: scheme });\r\n  };\r\n\r\n  const handleInterfaceChange = (interfaceSettings: Partial<InterfaceSettings>) => {\r\n    updateSettings({ interface: { ...settings.interface, ...interfaceSettings } });\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      exit={{ opacity: 0, y: -20 }}\r\n      className=\"p-6 bg-white dark:bg-slate-800 rounded-lg shadow-lg\"\r\n    >\r\n      <h2 className=\"text-2xl font-bold mb-6\">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h2>\r\n\r\n      {/* –†–µ–∂–∏–º —Ç–µ–º—ã */}\r\n      <div className=\"mb-8\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">–†–µ–∂–∏–º —Ç–µ–º—ã</h3>\r\n        <div className=\"flex gap-4\">\r\n          {(['light', 'dark', 'system'] as ThemeMode[]).map((mode) => (\r\n            <button\r\n              key={mode}\r\n              onClick={() => handleModeChange(mode)}\r\n              className={`px-4 py-2 rounded-lg transition-colors ${\r\n                settings.mode === mode\r\n                  ? 'bg-primary-500 text-white'\r\n                  : 'bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600'\r\n              }`}\r\n            >\r\n              {mode === 'light' ? '–°–≤–µ—Ç–ª–∞—è' : mode === 'dark' ? '–¢–µ–º–Ω–∞—è' : '–°–∏—Å—Ç–µ–º–Ω–∞—è'}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* –¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã */}\r\n      <div className=\"mb-8\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞</h3>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {colorSchemes.map((scheme) => (\r\n            <button\r\n              key={scheme.name}\r\n              onClick={() => handleColorSchemeChange(scheme)}\r\n              className={`p-4 rounded-lg border-2 transition-all ${\r\n                settings.colorScheme.name === scheme.name\r\n                  ? 'border-primary-500'\r\n                  : 'border-transparent hover:border-slate-300 dark:hover:border-slate-600'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <div\r\n                  className=\"w-8 h-8 rounded-full\"\r\n                  style={{ backgroundColor: scheme.primary }}\r\n                />\r\n                <span>{scheme.name}</span>\r\n              </div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */}\r\n      <div className=\"space-y-6\">\r\n        <h3 className=\"text-lg font-semibold\">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h3>\r\n\r\n        {/* –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞</label>\r\n          <select\r\n            value={settings.interface.fontSize}\r\n            onChange={(e) => handleInterfaceChange({ fontSize: e.target.value as InterfaceSettings['fontSize'] })}\r\n            className=\"w-full p-2 rounded-lg bg-slate-100 dark:bg-slate-700\"\r\n          >\r\n            <option value=\"small\">–ú–∞–ª–µ–Ω—å–∫–∏–π</option>\r\n            <option value=\"medium\">–°—Ä–µ–¥–Ω–∏–π</option>\r\n            <option value=\"large\">–ë–æ–ª—å—à–æ–π</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* –û—Ç—Å—Ç—É–ø—ã */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">–û—Ç—Å—Ç—É–ø—ã</label>\r\n          <select\r\n            value={settings.interface.spacing}\r\n            onChange={(e) => handleInterfaceChange({ spacing: e.target.value as InterfaceSettings['spacing'] })}\r\n            className=\"w-full p-2 rounded-lg bg-slate-100 dark:bg-slate-700\"\r\n          >\r\n            <option value=\"compact\">–ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ</option>\r\n            <option value=\"comfortable\">–ö–æ–º—Ñ–æ—Ä—Ç–Ω—ã–µ</option>\r\n            <option value=\"spacious\">–ü—Ä–æ—Å—Ç–æ—Ä–Ω—ã–µ</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">–°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤</label>\r\n          <select\r\n            value={settings.interface.borderRadius}\r\n            onChange={(e) => handleInterfaceChange({ borderRadius: e.target.value as InterfaceSettings['borderRadius'] })}\r\n            className=\"w-full p-2 rounded-lg bg-slate-100 dark:bg-slate-700\"\r\n          >\r\n            <option value=\"none\">–ù–µ—Ç</option>\r\n            <option value=\"small\">–ú–∞–ª–µ–Ω—å–∫–æ–µ</option>\r\n            <option value=\"medium\">–°—Ä–µ–¥–Ω–µ–µ</option>\r\n            <option value=\"large\">–ë–æ–ª—å—à–æ–µ</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* –ê–Ω–∏–º–∞—Ü–∏–∏ */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <label className=\"text-sm font-medium\">–ê–Ω–∏–º–∞—Ü–∏–∏</label>\r\n          <button\r\n            onClick={() => handleInterfaceChange({ animations: !settings.interface.animations })}\r\n            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\r\n              settings.interface.animations ? 'bg-primary-500' : 'bg-slate-300 dark:bg-slate-600'\r\n            }`}\r\n          >\r\n            <span\r\n              className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\r\n                settings.interface.animations ? 'translate-x-6' : 'translate-x-1'\r\n              }`}\r\n            />\r\n          </button>\r\n        </div>\r\n\r\n        {/* –£–º–µ–Ω—å—à–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <label className=\"text-sm font-medium\">–£–º–µ–Ω—å—à–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ</label>\r\n          <button\r\n            onClick={() => handleInterfaceChange({ reducedMotion: !settings.interface.reducedMotion })}\r\n            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\r\n              settings.interface.reducedMotion ? 'bg-primary-500' : 'bg-slate-300 dark:bg-slate-600'\r\n            }`}\r\n          >\r\n            <span\r\n              className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\r\n                settings.interface.reducedMotion ? 'translate-x-6' : 'translate-x-1'\r\n              }`}\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}; ","const API_URL = import.meta.env.VITE_API_URL;\r\n\r\nexport async function fetchUserTasks() {\r\n  const res = await fetch(`${API_URL}/api/tasks`, { credentials: 'include' });\r\n  if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á');\r\n  return res.json();\r\n}\r\n\r\nexport async function createUserTask(task: Record<string, any>) {\r\n  const res = await fetch(`${API_URL}/api/tasks`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    credentials: 'include',\r\n    body: JSON.stringify(task),\r\n  });\r\n  if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏');\r\n  return res.json();\r\n}\r\n\r\nexport async function updateUserTask(id: string, updates: Record<string, any>) {\r\n  const res = await fetch(`${API_URL}/api/tasks/${id}`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    credentials: 'include',\r\n    body: JSON.stringify(updates),\r\n  });\r\n  if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏');\r\n  return res.json();\r\n}\r\n\r\nexport async function deleteUserTask(id: string) {\r\n  const res = await fetch(`${API_URL}/api/tasks/${id}`, {\r\n    method: 'DELETE',\r\n    credentials: 'include',\r\n  });\r\n  if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏');\r\n  return true;\r\n}\r\n\r\nexport async function fetchUserCalendars() {\r\n  const res = await fetch(`${API_URL}/api/calendars`, { credentials: 'include' });\r\n  if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π');\r\n  return res.json();\r\n}\r\n\r\nexport async function fetchUserProfile() {\r\n  const res = await fetch(`${API_URL}/api/user`, { credentials: 'include' });\r\n  if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è');\r\n  return res.json();\r\n}\r\n\r\nexport async function createCalendarEvent(eventData: Record<string, any>, calendarId: string) {\r\n  const res = await fetch(`${API_URL}/api/calendars/${calendarId}/events`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    credentials: 'include',\r\n    body: JSON.stringify(eventData),\r\n  });\r\n  if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è');\r\n  return res.json();\r\n}\r\n\r\nexport async function updateCalendarEvent(eventId: string, updates: Record<string, any>) {\r\n  const res = await fetch(`${API_URL}/api/events/${eventId}`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    credentials: 'include',\r\n    body: JSON.stringify(updates),\r\n  });\r\n  if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è');\r\n  return res.json();\r\n}\r\n\r\nexport async function deleteCalendarEvent(eventId: string) {\r\n  const res = await fetch(`${API_URL}/api/events/${eventId}`, {\r\n    method: 'DELETE',\r\n    credentials: 'include',\r\n  });\r\n  if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è');\r\n  return true;\r\n}\r\n","import React, { useMemo, useEffect, useState } from 'react';\nimport { Task } from '../types';\nimport { fetchUserTasks } from '../src/services/backendApi';\n\nconst getTaskDateTime = (task: Task): Date | null => {\n  if (!task.dueDate) return null;\n  const [year, month, day] = task.dueDate.split('-').map(Number);\n  let hour = 0;\n  let minute = 0;\n  if (task.dueTime) {\n    [hour, minute] = task.dueTime.split(':').map(Number);\n  }\n  return new Date(year, month - 1, day, hour, minute);\n};\n\nconst RemindersBar: React.FC = () => {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    setLoading(true);\n    fetchUserTasks()\n      .then(setTasks)\n      .catch(e => setError(e.message))\n      .finally(() => setLoading(false));\n  }, []);\n\n  const { overdueTasks, upcomingTasks } = useMemo(() => {\n    const now = new Date();\n    const overdue: Task[] = [];\n    const upcoming: Task[] = [];\n    const todayDate = new Date();\n    todayDate.setHours(0, 0, 0, 0);\n    const tomorrowDate = new Date(todayDate);\n    tomorrowDate.setDate(todayDate.getDate() + 1);\n    tasks.forEach(task => {\n      if (task.isCompleted) return;\n      const taskDateTime = getTaskDateTime(task);\n      if (!taskDateTime) return; \n      if (taskDateTime < now) {\n        overdue.push(task);\n      } else {\n        const taskDateOnly = new Date(taskDateTime);\n        taskDateOnly.setHours(0,0,0,0);\n        if (taskDateOnly.getTime() === todayDate.getTime() || taskDateOnly.getTime() === tomorrowDate.getTime()) {\n            upcoming.push(task);\n        }\n      }\n    });\n    overdue.sort((a, b) => (getTaskDateTime(a)?.getTime() || 0) - (getTaskDateTime(b)?.getTime() || 0));\n    upcoming.sort((a, b) => (getTaskDateTime(a)?.getTime() || 0) - (getTaskDateTime(b)?.getTime() || 0));\n    return { overdueTasks: overdue, upcomingTasks: upcoming };\n  }, [tasks]);\n\n  if (loading) {\n    return <div className=\"mb-6 p-4 rounded-lg shadow-md border border-slate-200 bg-white text-center text-slate-500\"><i className=\"fas fa-spinner fa-spin mr-2\"></i>–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π...</div>;\n  }\n  if (error) {\n    return <div className=\"mb-6 p-4 rounded-lg shadow-md border border-rose-200 bg-white text-center text-rose-600\">{error}</div>;\n  }\n  if (overdueTasks.length === 0 && upcomingTasks.length === 0) {\n    return null; \n  }\n\n  const renderTaskItem = (task: Task, type: 'overdue' | 'upcoming') => {\n    const taskDateTime = getTaskDateTime(task);\n    let displayTime = '';\n    if (taskDateTime) {\n        displayTime = `${task.dueDate ? new Date(task.dueDate + 'T00:00:00').toLocaleDateString('ru-RU', {day:'2-digit', month:'2-digit'}) : ''} ${task.dueTime || ''}`.trim();\n    }\n    return (\n      <li key={task.id} className={`py-1.5 px-2.5 text-sm rounded-md flex items-center gap-2 shadow-xs\n        ${type === 'overdue' ? 'bg-rose-50 text-rose-700 border border-rose-200' : 'bg-amber-50 text-amber-700 border border-amber-200'}\n      `}>\n        <i className={`fas ${type === 'overdue' ? 'fa-exclamation-circle' : 'fa-bell'} text-base`}></i>\n        <span className=\"font-medium truncate flex-1\" title={task.text}>{task.text}</span>\n        {displayTime && <span className=\"text-xs whitespace-nowrap text-slate-500\">({displayTime})</span>}\n      </li>\n    );\n  };\n\n  return (\n    <div className=\"mb-6 p-4 rounded-lg shadow-md border border-slate-200 bg-white animate-fadeInReminders\">\n      {overdueTasks.length > 0 && (\n        <div className=\"mb-4 last:mb-0\">\n          <h3 className=\"text-lg font-semibold text-rose-600 flex items-center mb-2\">\n            <i className=\"fas fa-calendar-times mr-2\"></i> –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ ({overdueTasks.length})\n          </h3>\n          <ul className=\"space-y-1.5 max-h-36 overflow-y-auto custom-scrollbar pr-1.5\">\n            {overdueTasks.map(task => renderTaskItem(task, 'overdue'))}\n          </ul>\n        </div>\n      )}\n      {upcomingTasks.length > 0 && (\n        <div className=\"mb-0\">\n          <h3 className=\"text-lg font-semibold text-amber-600 flex items-center mb-2\">\n            <i className=\"fas fa-hourglass-half mr-2\"></i> –ë–ª–∏–∂–∞–π—à–∏–µ –∑–∞–¥–∞—á–∏ ({upcomingTasks.length})\n          </h3>\n          <ul className=\"space-y-1.5 max-h-36 overflow-y-auto custom-scrollbar pr-1.5\">\n            {upcomingTasks.map(task => renderTaskItem(task, 'upcoming'))}\n          </ul>\n        </div>\n      )}\n      <style>{`\n        @keyframes fadeInReminders {\n          from { opacity: 0; transform: translateY(-10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fadeInReminders {\n          animation: fadeInReminders 0.3s ease-out forwards;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default RemindersBar;","import React from 'react';\nimport { Task, PriorityLevel } from '../types';\n\ninterface TodoItemProps {\n  task: Task;\n  onToggle: (id: string) => void;\n  onDelete: (id: string) => void;\n}\n\nconst formatDate = (dateString?: string): string | null => {\n  if (!dateString) return null;\n  try {\n    const date = new Date(dateString + 'T00:00:00'); // Ensure local timezone interpretation for date part\n    return date.toLocaleDateString('ru-RU', { day: '2-digit', month: '2-digit', year: 'numeric' });\n  } catch (e) {\n    return dateString; // fallback to original if parsing fails\n  }\n};\n\nconst formatTime = (timeString?: string): string | null => {\n  if (!timeString) return null;\n  return timeString;\n};\n\nconst priorityMap: Record<PriorityLevel, { icon: string; color: string; label: string; ringColor: string }> = {\n  high: { icon: 'fas fa-flag', color: 'text-rose-600', label: '–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç', ringColor: 'ring-rose-500' },\n  medium: { icon: 'fas fa-flag', color: 'text-amber-600', label: '–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç', ringColor: 'ring-amber-500' },\n  low: { icon: 'fas fa-flag', color: 'text-sky-600', label: '–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç', ringColor: 'ring-sky-500' },\n};\n\nconst TodoItem: React.FC<TodoItemProps> = React.memo(({ task, onToggle, onDelete }) => {\n  const formattedDueDate = formatDate(task.dueDate);\n  const formattedDueTime = formatTime(task.dueTime);\n  \n  const isPastDue = task.dueDate && !task.isCompleted && \n                    new Date(task.dueDate + `T${task.dueTime || '23:59:59'}`) < new Date();\n\n  const priorityInfo = task.priority ? priorityMap[task.priority] : null;\n\n  return (\n    <li\n      className={`group flex items-start justify-between p-3.5 rounded-lg transition-all duration-300 ease-in-out border\n        ${\n          task.isCompleted \n            ? 'bg-slate-100 border-slate-200 opacity-70' \n            : `bg-white border-slate-200 hover:bg-slate-50 ${isPastDue ? 'border-l-4 border-rose-500' : (priorityInfo ? `border-l-4 ${priorityInfo.ringColor.replace('ring-','border-')}` : 'border-l-4 border-slate-400')}`\n        }\n      `}\n    >\n      <div className=\"flex items-start flex-grow min-w-0\">\n        <input\n          type=\"checkbox\"\n          checked={task.isCompleted}\n          onChange={() => onToggle(task.id)}\n          className=\"form-checkbox h-5 w-5 text-sky-600 bg-slate-100 border-slate-300 rounded focus:ring-sky-500 cursor-pointer mr-3 mt-0.5 shrink-0 focus-ring\"\n          aria-label={`–û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á—É '${task.text}' –∫–∞–∫ ${task.isCompleted ? '–Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—É—é' : '–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—É—é'}`}\n        />\n        <div className=\"flex-grow min-w-0\">\n          <div className=\"flex items-center\">\n            {priorityInfo && !task.isCompleted && (\n              <i \n                className={`${priorityInfo.icon} ${priorityInfo.color} mr-2 text-xs`} \n                title={priorityInfo.label}\n              ></i>\n            )}\n             {priorityInfo && task.isCompleted && ( // Dimmed priority icon for completed tasks\n              <i \n                className={`${priorityInfo.icon} text-slate-400 mr-2 text-xs`} \n                title={`${priorityInfo.label} (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)`}\n              ></i>\n            )}\n            <span className={`block break-words ${task.isCompleted ? 'line-through text-slate-500' : 'text-slate-700'}`}>\n              {task.text}\n            </span>\n          </div>\n          {(formattedDueDate || formattedDueTime) && (\n            <p className={`text-xs mt-1 flex items-center flex-wrap ${task.isCompleted ? 'text-slate-400' : (isPastDue ? 'text-rose-500' : 'text-sky-600')}`}>\n              <i className=\"fas fa-calendar-alt mr-1.5\"></i>\n              {formattedDueDate && <span>–°—Ä–æ–∫: {formattedDueDate}</span>}\n              {formattedDueDate && formattedDueTime && <span className=\"mx-1\">-</span>}\n              {formattedDueTime && <span>{formattedDueTime}</span>}\n              {isPastDue && <span className=\"ml-1.5 font-semibold\">(–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ)</span>}\n            </p>\n          )}\n        </div>\n      </div>\n      <button\n        onClick={() => onDelete(task.id)}\n        className=\"text-slate-400 hover:text-rose-500 transition-colors ml-3 px-2 py-1 self-center shrink-0 opacity-60 group-hover:opacity-100 focus-ring rounded-md\"\n        aria-label={`–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É '${task.text}'`}\n      >\n        <i className=\"fas fa-trash-alt\"></i>\n      </button>\n    </li>\n  );\n});\n\nexport default TodoItem;","import React, { useState, useEffect, useRef } from 'react';\n\ninterface MiniCalendarDatePickerProps {\n  selectedDate: string; // YYYY-MM-DD\n  onDateSelect: (date: string) => void;\n  onClose: () => void;\n  minDate?: string; // YYYY-MM-DD\n}\n\nconst DAYS_OF_WEEK_LABELS = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];\nconst MONTH_NAMES_RU = [\n  '–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',\n  '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'\n];\n\nconst MiniCalendarDatePicker: React.FC<MiniCalendarDatePickerProps> = ({\n  selectedDate,\n  onDateSelect,\n  onClose,\n  minDate,\n}) => {\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n\n  const initialDate = selectedDate ? new Date(selectedDate + \"T00:00:00\") : today;\n  const [currentMonthDate, setCurrentMonthDate] = useState(new Date(initialDate.getFullYear(), initialDate.getMonth(), 1));\n  const pickerRef = useRef<HTMLDivElement>(null);\n\n  const minDateObj = minDate ? new Date(minDate + \"T00:00:00\") : undefined;\n\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (pickerRef.current && !pickerRef.current.contains(event.target as Node)) {\n        onClose();\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [onClose]);\n\n  const changeMonth = (offset: number) => {\n    setCurrentMonthDate(prev => {\n      const newDate = new Date(prev);\n      newDate.setMonth(newDate.getMonth() + offset);\n      return newDate;\n    });\n  };\n\n  const handleDayClick = (day: Date) => {\n    if (minDateObj && day < minDateObj) {\n      return; // Don't select if before minDate\n    }\n    onDateSelect(day.toISOString().split('T')[0]);\n    onClose();\n  };\n\n  const year = currentMonthDate.getFullYear();\n  const month = currentMonthDate.getMonth();\n\n  const firstDayOfMonth = new Date(year, month, 1);\n  const lastDayOfMonth = new Date(year, month + 1, 0);\n  \n  // Adjust to Monday start of week\n  let startingDayOfWeek = firstDayOfMonth.getDay(); // 0 (Sun) - 6 (Sat)\n  startingDayOfWeek = startingDayOfWeek === 0 ? 6 : startingDayOfWeek - 1; // 0 (Mon) - 6 (Sun)\n\n\n  const daysInMonthGrid = [];\n  for (let i = 0; i < startingDayOfWeek; i++) {\n    daysInMonthGrid.push(null);\n  }\n  for (let day = 1; day <= lastDayOfMonth.getDate(); day++) {\n    daysInMonthGrid.push(new Date(year, month, day));\n  }\n\n  return (\n    <div \n        ref={pickerRef} \n        className=\"absolute z-30 mt-1 w-64 bg-white border border-slate-300 rounded-lg shadow-lg p-3 text-sm\"\n        style={{ top: '100%', left: 0 }} // Position it below the button\n    >\n      <div className=\"flex justify-between items-center mb-2\">\n        <button\n          type=\"button\"\n          onClick={() => changeMonth(-1)}\n          className=\"p-1 rounded-md hover:bg-slate-100 focus-ring text-slate-500 hover:text-slate-700\"\n          aria-label=\"–ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü\"\n        >\n          <i className=\"fas fa-chevron-left\"></i>\n        </button>\n        <span className=\"font-semibold text-slate-700\">\n          {MONTH_NAMES_RU[month]} {year}\n        </span>\n        <button\n          type=\"button\"\n          onClick={() => changeMonth(1)}\n          className=\"p-1 rounded-md hover:bg-slate-100 focus-ring text-slate-500 hover:text-slate-700\"\n          aria-label=\"–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü\"\n        >\n          <i className=\"fas fa-chevron-right\"></i>\n        </button>\n      </div>\n      <div className=\"grid grid-cols-7 gap-1 text-center text-xs font-medium text-slate-500 mb-1\">\n        {DAYS_OF_WEEK_LABELS.map(day => <div key={day}>{day}</div>)}\n      </div>\n      <div className=\"grid grid-cols-7 gap-1\">\n        {daysInMonthGrid.map((dayObject, index) => {\n          if (!dayObject) {\n            return <div key={`empty-${index}`} className=\"h-7 rounded-md\"></div>;\n          }\n          const day = dayObject as Date;\n          const dayStr = day.toISOString().split('T')[0];\n          const isSelected = dayStr === selectedDate;\n          const isToday = day.getTime() === today.getTime();\n          const isDisabled = minDateObj && day < minDateObj;\n\n          return (\n            <button\n              type=\"button\"\n              key={dayStr}\n              onClick={() => handleDayClick(day)}\n              disabled={isDisabled}\n              className={`h-7 w-full p-1 rounded-md flex items-center justify-center text-xs transition-colors\n                ${isDisabled ? 'text-slate-300 cursor-not-allowed' : 'hover:bg-slate-100 text-slate-600'}\n                ${isToday && !isSelected && !isDisabled ? 'font-semibold text-sky-600 bg-sky-50' : ''}\n                ${isSelected && !isDisabled ? 'bg-sky-600 text-white font-bold' : ''}\n              `}\n              aria-pressed={isSelected}\n              aria-label={`–í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É ${day.getDate()} ${MONTH_NAMES_RU[month]}`}\n            >\n              {day.getDate()}\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default MiniCalendarDatePicker;\n","import React, { useState, useCallback, useRef, useEffect } from 'react';\nimport { Task, PriorityLevel } from '../types';\nimport { fetchUserTasks, createUserTask, updateUserTask, deleteUserTask } from '../src/services/backendApi';\nimport TodoItem from './TodoItem';\nimport MiniCalendarDatePicker from './MiniCalendarDatePicker';\n\nconst sortTasks = (tasks: Task[]): Task[] => {\n  return [...tasks].sort((a, b) => {\n    // 1. Incomplete tasks before completed tasks\n    if (a.isCompleted !== b.isCompleted) {\n      return a.isCompleted ? 1 : -1;\n    }\n\n    // For tasks with the same completion status\n    if (!a.isCompleted) { // Sort active tasks more granularly\n      // 2. Priority: High > Medium > Low > Undefined\n      const priorityOrder: Record<PriorityLevel, number> = { high: 1, medium: 2, low: 3 };\n      const aPriorityVal = a.priority ? priorityOrder[a.priority] : 4;\n      const bPriorityVal = b.priority ? priorityOrder[b.priority] : 4;\n\n      if (aPriorityVal !== bPriorityVal) {\n        return aPriorityVal - bPriorityVal;\n      }\n\n      // 3. Due Date (earliest first for incomplete tasks with due dates)\n      // Tasks without due dates come after tasks with due dates\n      const aDueDateMs = a.dueDate ? new Date(a.dueDate + (a.dueTime ? `T${a.dueTime}` : 'T00:00:00')).getTime() : null;\n      const bDueDateMs = b.dueDate ? new Date(b.dueDate + (b.dueTime ? `T${b.dueTime}` : 'T00:00:00')).getTime() : null;\n\n      if (aDueDateMs && bDueDateMs) {\n        if (aDueDateMs !== bDueDateMs) {\n          return aDueDateMs - bDueDateMs;\n        }\n      } else if (aDueDateMs) {\n        return -1; // a has due date, b doesn't (so a comes first)\n      } else if (bDueDateMs) {\n        return 1;  // b has due date, a doesn't (so b comes first)\n      }\n    } else { // Sort completed tasks by completion time (newest first)\n        if (a.completedAt && b.completedAt) {\n            return b.completedAt - a.completedAt;\n        } else if (a.completedAt) {\n            return -1; // a has completion date, b doesn't\n        } else if (b.completedAt) {\n            return 1; // b has completion date, a doesn't\n        }\n    }\n    \n    // 4. Creation Time (newest first as a final tie-breaker or for completed tasks without completion date)\n    return b.createdAt - a.createdAt;\n  });\n};\n\n\nconst TodoList: React.FC = () => {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [newTaskText, setNewTaskText] = useState('');\n  const [newDueDate, setNewDueDate] = useState('');\n  const [newDueTime, setNewDueTime] = useState('');\n  const [newPriority, setNewPriority] = useState<PriorityLevel | undefined>(undefined);\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const datePickerButtonRef = useRef<HTMLButtonElement>(null);\n\n  useEffect(() => {\n    fetchUserTasks()\n      .then(setTasks)\n      .catch(e => console.error(e.message));\n  }, []);\n\n  const addTask = useCallback(async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (newTaskText.trim() === '') return;\n    const newTask: Task = {\n      id: crypto.randomUUID(),\n      text: newTaskText,\n      isCompleted: false,\n      createdAt: Date.now(),\n      dueDate: newDueDate || undefined,\n      dueTime: newDueTime || undefined,\n      priority: newPriority,\n    };\n    try {\n      const created = await createUserTask(newTask);\n      setTasks(prev => sortTasks([created, ...prev]));\n      setNewTaskText('');\n      setNewDueDate('');\n      setNewDueTime('');\n      setNewPriority(undefined);\n      setShowDatePicker(false);\n    } catch (e: any) {\n      console.error(e.message);\n    }\n  }, [newTaskText, newDueDate, newDueTime, newPriority]);\n\n  const toggleTask = useCallback(async (id: string) => {\n    const task = tasks.find(t => t.id === id);\n    if (!task) return;\n    try {\n      const updated = await updateUserTask(id, { isCompleted: !task.isCompleted, completedAt: !task.isCompleted ? Date.now() : undefined });\n      setTasks(prev => sortTasks(prev.map(t => t.id === id ? updated : t)));\n    } catch (e: any) {\n      console.error(e.message);\n    }\n  }, [tasks]);\n\n  const deleteTaskHandler = useCallback(async (id: string) => {\n    try {\n      await deleteUserTask(id);\n      setTasks(prev => sortTasks(prev.filter(t => t.id !== id)));\n    } catch (e: any) {\n      console.error(e.message);\n    }\n  }, []);\n\n  const handleDateSelect = (date: string) => {\n    setNewDueDate(date);\n    setShowDatePicker(false);\n  };\n\n  const formatDateForButton = (dateString: string): string => {\n    if (!dateString) return \"–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É\";\n    try {\n        const date = new Date(dateString + \"T00:00:00\");\n        return date.toLocaleDateString('ru-RU', { day: '2-digit', month: '2-digit', year: 'numeric' });\n    } catch {\n        return \"–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É\";\n    }\n  };\n  \n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (showDatePicker && datePickerButtonRef.current && !datePickerButtonRef.current.contains(event.target as Node)) {\n        // Simple close on outside click of button. MiniCalendarDatePicker handles its own closure.\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showDatePicker]);\n\n  const priorityButtonClass = (level: PriorityLevel, current?: PriorityLevel) => \n    `px-3 py-1.5 text-xs rounded-md focus-ring transition-colors font-medium flex items-center gap-1.5\n     ${current === level \n       ? (level === 'high' ? 'bg-rose-500 text-white' : level === 'medium' ? 'bg-amber-500 text-white' : 'bg-sky-500 text-white')\n       : 'bg-slate-200 hover:bg-slate-300 text-slate-700'\n     }`;\n  \n\n  return (\n    <div className=\"bg-white rounded-lg\">\n      <h1 className=\"text-3xl font-bold text-slate-800 mb-6\">\n        –ó–∞–¥–∞—á–∏\n      </h1>\n      <form onSubmit={addTask} className=\"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200\">\n        <div className=\"sm:col-span-2 mb-3\">\n            <label htmlFor=\"newTaskText\" className=\"sr-only\">–¢–µ–∫—Å—Ç –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏</label>\n            <div className=\"relative\">\n                <i className=\"fas fa-pencil-alt absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\"></i>\n                <input\n                type=\"text\"\n                id=\"newTaskText\"\n                value={newTaskText}\n                onChange={(e) => setNewTaskText(e.target.value)}\n                placeholder=\"–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É...\"\n                className=\"w-full p-3 pl-10 bg-white border border-slate-300 rounded-lg focus-ring placeholder-slate-400 text-slate-700 transition-colors\"\n                />\n            </div>\n        </div>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3\">\n          <div className=\"relative\">\n            <button\n              type=\"button\"\n              ref={datePickerButtonRef}\n              onClick={() => setShowDatePicker(!showDatePicker)}\n              className=\"w-full text-left p-3 bg-white border border-slate-300 rounded-lg focus-ring text-slate-700 flex justify-between items-center\"\n              aria-label=\"–í—ã–±—Ä–∞—Ç—å —Å—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ (–¥–∞—Ç–∞)\"\n              aria-expanded={showDatePicker}\n            >\n              <span>{newDueDate ? formatDateForButton(newDueDate) : \"–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É\"}</span>\n              <i className={`fas fa-calendar-alt text-slate-400 transition-transform ${showDatePicker ? 'rotate-180' : ''}`}></i>\n            </button>\n            {showDatePicker && (\n              <MiniCalendarDatePicker\n                selectedDate={newDueDate}\n                onDateSelect={handleDateSelect}\n                onClose={() => setShowDatePicker(false)}\n                minDate={new Date().toISOString().split(\"T\")[0]}\n              />\n            )}\n          </div>\n          <input\n            type=\"time\"\n            value={newDueTime}\n            onChange={(e) => setNewDueTime(e.target.value)}\n            className=\"p-3 bg-white border border-slate-300 rounded-lg focus-ring text-slate-700\"\n            aria-label=\"–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ (–≤—Ä–µ–º—è)\"\n          />\n        </div>\n\n        <div className=\"mb-4\">\n          <span className=\"block text-sm font-medium text-slate-600 mb-1.5\">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</span>\n          <div className=\"flex flex-wrap gap-2 items-center\">\n            {(['high', 'medium', 'low'] as PriorityLevel[]).map(level => (\n              <button \n                key={level}\n                type=\"button\" \n                className={priorityButtonClass(level, newPriority)} \n                onClick={() => setNewPriority(level)}\n                aria-pressed={newPriority === level}\n                title = {level === 'high' ? '–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç' : level === 'medium' ? '–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç' : '–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç'}\n              >\n                <i className={`fas fa-flag ${\n                    level === 'high' ? (newPriority === 'high' ? 'text-white': 'text-rose-500') :\n                    level === 'medium' ? (newPriority === 'medium' ? 'text-white': 'text-amber-500') :\n                    (newPriority === 'low' ? 'text-white': 'text-sky-500')\n                }`}></i>\n                {level === 'high' ? '–í—ã—Å–æ–∫–∏–π' : level === 'medium' ? '–°—Ä–µ–¥–Ω–∏–π' : '–ù–∏–∑–∫–∏–π'}\n              </button>\n            ))}\n            {newPriority && (\n              <button \n                type=\"button\" \n                className=\"text-slate-400 hover:text-slate-600 p-1 rounded-full focus-ring\" \n                onClick={() => setNewPriority(undefined)}\n                title=\"–û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç\"\n                aria-label=\"–û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç\"\n              >\n                <i className=\"fas fa-times-circle text-lg\"></i>\n              </button>\n            )}\n          </div>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"w-full sm:w-auto bg-sky-600 hover:bg-sky-500 text-white p-3 rounded-lg transition-colors font-semibold flex items-center justify-center focus-ring\"\n        >\n          <i className=\"fas fa-plus mr-2\"></i> –î–æ–±–∞–≤–∏—Ç—å –ó–∞–¥–∞—á—É\n        </button>\n      </form>\n      {tasks.length === 0 && (\n        <div className=\"text-center py-12 text-slate-500 bg-slate-50 rounded-lg border border-slate-200\">\n            <i className=\"fas fa-clipboard-list text-5xl mb-4 text-slate-400\"></i>\n            <p className=\"text-xl\">–ó–∞–¥–∞—á –ø–æ–∫–∞ –Ω–µ—Ç.</p>\n            <p className=\"text-sm\">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å!</p>\n        </div>\n      )}\n      <ul className=\"space-y-3 max-h-[calc(100vh-30rem)] overflow-y-auto pr-2 custom-scrollbar\"> {/* Adjusted max-h for new fields */}\n        {tasks.map(task => (\n          <TodoItem\n            key={task.id}\n            task={task}\n            onToggle={toggleTask}\n            onDelete={deleteTaskHandler}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default TodoList;","\nimport { PomodoroSettings } from './types';\n\nexport const DEFAULT_POMODORO_SETTINGS: PomodoroSettings = {\n  workDuration: 25,\n  shortBreakDuration: 5,\n  longBreakDuration: 15,\n  longBreakInterval: 4,\n};\n\nexport const APP_TITLE = \"ADHD Workflow\";\n\nexport const GEMINI_MODEL_TEXT = 'gemini-2.5-flash-preview-04-17';\n\n// IMPORTANT: Replace with your own Google Cloud Project credentials\n// You can get these from https://console.cloud.google.com/\nexport const GOOGLE_CLIENT_ID = '425351570592-6ecpcjvjgl0iqaq8vlnoqqanu5opomdt.apps.googleusercontent.com';\n\n// IMPORTANT: This is your API Key. Ensure it's correctly configured in Google Cloud Console\n// and has permissions for Google Calendar API.\nexport const GOOGLE_API_KEY = 'AIzaSyBPlHxliX1u0Mm72KoskeQgaVkZVFAGYOg';\n\n// Scopes for Google Calendar API (read-only access to events)\nexport const GOOGLE_CALENDAR_SCOPES = 'https://www.googleapis.com/auth/calendar.events.readonly';\n\n// Discovery document for Google Calendar API\nexport const GOOGLE_DISCOVERY_DOCS = [\"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest\"];","\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { GOOGLE_CLIENT_ID, GOOGLE_API_KEY, GOOGLE_CALENDAR_SCOPES } from '../constants';\nimport { GoogleAuthState } from '../types';\n\ndeclare global {\n  interface Window {\n    gapi: any;\n    google: any;\n    tokenClient: any; // For Google Identity Services token client\n  }\n}\n\nconst useGoogleAuth = () => {\n  const [authState, setAuthState] = useState<GoogleAuthState>({\n    isSignedIn: false,\n    user: null, // For GIS, user info is usually from the ID token, not a GAPI profile object\n    error: null,\n    isLoading: true,\n  });\n  const [accessToken, setAccessToken] = useState<string | null>(null);\n  const gapiLoadedRef = useRef(false); // To track if GAPI client for Calendar API is loaded\n  const gisInitializedRef = useRef(false); // To track if GIS itself is initialized\n\n  // Helper to parse JWT for basic user info (name, email, picture)\n  const parseJwt = (token: string) => {\n    try {\n      const base64Url = token.split('.')[1];\n      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n      const jsonPayload = decodeURIComponent(\n        atob(base64)\n          .split('')\n          .map((c) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\n          .join('')\n      );\n      return JSON.parse(jsonPayload);\n    } catch (e) {\n      console.error(\"Error parsing JWT:\", e);\n      return null;\n    }\n  };\n  \n  // 1. Load GAPI client and specific Calendar API\n  const initAndLoadGapiClient = useCallback(() => {\n    return new Promise<void>((resolve, reject) => {\n      if (window.gapi && window.gapi.load) {\n        window.gapi.load('client', () => { // Load the base GAPI client library\n          console.log('GAPI base client platform loaded.');\n          window.gapi.client.init({ apiKey: GOOGLE_API_KEY }) // Initialize with API key for discovery\n            .then(() => {\n              console.log('GAPI client initialized (for API calls).');\n              return window.gapi.client.load('calendar', 'v3'); // Load Calendar API\n            })\n            .then(() => {\n              console.log('Google Calendar API (v3) loaded via GAPI.');\n              gapiLoadedRef.current = true;\n              resolve();\n            })\n            .catch((err: any) => {\n              console.error('Error initializing GAPI client or loading Calendar API:', err);\n              reject(new Error('Failed to init/load GAPI client for Calendar API.'));\n            });\n        });\n      } else {\n        reject(new Error('window.gapi.load not available.'));\n      }\n    });\n  }, []);\n\n\n  // 2. Initialize Google Identity Services (GIS)\n  const initializeGis = useCallback(() => {\n    if (window.google && window.google.accounts && window.google.accounts.id) {\n      console.log(\"GIS library found, initializing GIS for Sign-In.\");\n      try {\n        window.google.accounts.id.initialize({\n          client_id: GOOGLE_CLIENT_ID,\n          callback: (credentialResponse: any) => {\n            console.log('GIS Sign-In (ID Token) received:', credentialResponse);\n            if (credentialResponse.credential) {\n              const idToken = credentialResponse.credential;\n              const userInfoFromIdToken = parseJwt(idToken);\n              \n              setAuthState(prev => ({\n                ...prev,\n                isSignedIn: true, // Tentatively true, confirmed by access token\n                user: userInfoFromIdToken ? { \n                  getName: () => userInfoFromIdToken.name, \n                  getImageUrl: () => userInfoFromIdToken.picture, \n                  getEmail: () => userInfoFromIdToken.email \n                } : null,\n                isLoading: true, // Now attempting to get access token\n              }));\n              requestAccessToken(); // Request access token for API scopes\n            } else {\n              console.error(\"GIS Sign-In callback error: No credential in response\", credentialResponse);\n              setAuthState(prev => ({ ...prev, error: new Error(\"Google Sign-In failed: No credential.\"), isLoading: false }));\n            }\n          },\n          error_callback: (error: any) => {\n            console.error('GIS ID initialize error_callback:', error);\n            setAuthState(prev => ({ ...prev, error: new Error(error?.message || 'Google Sign-In initialization failed.'), isLoading: false }));\n          }\n        });\n        gisInitializedRef.current = true;\n      } catch (e) {\n        console.error(\"Error during google.accounts.id.initialize:\", e);\n        setAuthState(prev => ({...prev, error: new Error(\"Failed to initialize Google Sign-In service.\"), isLoading: false}));\n      }\n    } else {\n        console.warn(\"GIS (google.accounts.id) not available for initialization yet.\");\n    }\n  }, []); // requestAccessToken dependency is indirect\n\n  // Effect to ensure both GAPI and GIS are loaded and initialized\n  useEffect(() => {\n    setAuthState(prev => ({ ...prev, isLoading: true, error: null }));\n    let gapiPromise = initAndLoadGapiClient().catch(err => {\n        setAuthState(prev => ({ ...prev, error: err, isLoading: false }));\n        gapiLoadedRef.current = false; // Mark as not loaded on error\n    });\n    \n    // Poll for GIS script then initialize\n    let gisAttempts = 0;\n    const gisInterval = setInterval(() => {\n        if (window.google && window.google.accounts && window.google.accounts.id) {\n            clearInterval(gisInterval);\n            if (!gisInitializedRef.current) {\n                initializeGis();\n            }\n        } else {\n            gisAttempts++;\n            if (gisAttempts > 20) { // Wait for ~10 seconds\n                clearInterval(gisInterval);\n                console.error(\"Timeout waiting for GIS script to load.\");\n                if(!authState.error) { // Don't overwrite GAPI error if it occurred\n                   setAuthState(prev => ({ ...prev, error: new Error(\"Google Sign-In script (GIS) failed to load.\"), isLoading: false }));\n                }\n            }\n        }\n    }, 500);\n\n    Promise.allSettled([gapiPromise]).then(() => {\n        // Check if both are ready after GAPI promise and GIS attempts\n        // GIS init is called above, this just ensures loading doesn't hang indefinitely\n        if (gapiLoadedRef.current && gisInitializedRef.current) {\n            setAuthState(prev => ({ ...prev, isLoading: false }));\n        } else if (gapiLoadedRef.current && !gisInitializedRef.current && gisAttempts > 20) {\n            // GAPI loaded, GIS timed out\n             setAuthState(prev => ({ ...prev, isLoading: false, error: prev.error || new Error(\"Google Sign-In script (GIS) timed out.\")}));\n        }\n        // If GAPI failed, error is already set.\n    });\n\n    return () => {\n        clearInterval(gisInterval);\n    };\n  }, [initAndLoadGapiClient, initializeGis, authState.error]); // Added authState.error to avoid re-running if already errored\n\n  const requestAccessToken = useCallback(() => {\n    if (!window.google || !window.google.accounts || !window.google.accounts.oauth2) {\n      console.error(\"GIS token client prerequisites not met.\");\n      setAuthState(prev => ({ ...prev, error: new Error(\"Google auth (token component) not ready.\"), isLoading: false }));\n      return;\n    }\n    if (String(GOOGLE_CLIENT_ID) === 'YOUR_GOOGLE_CLIENT_ID_HERE') {\n      console.error(\"Google Client ID not configured for token request.\");\n      setAuthState(prev => ({ ...prev, error: new Error(\"Google Client ID not configured.\"), isLoading: false }));\n      return;\n    }\n\n    try {\n      const tokenClient = window.google.accounts.oauth2.initTokenClient({\n        client_id: GOOGLE_CLIENT_ID,\n        scope: GOOGLE_CALENDAR_SCOPES,\n        callback: (tokenResponse: any) => {\n          if (tokenResponse && tokenResponse.access_token) {\n            console.log('GIS Access Token acquired:', tokenResponse.access_token.substring(0,10) + \"...\");\n            setAccessToken(tokenResponse.access_token);\n            if (window.gapi && window.gapi.client) {\n              window.gapi.client.setToken({ access_token: tokenResponse.access_token });\n            }\n            // Confirm sign-in state now that we have the access token\n            setAuthState(prev => ({ ...prev, isSignedIn: true, error: null, isLoading: false }));\n          } else {\n            console.error('GIS Token response error or no access_token:', tokenResponse);\n            setAuthState(prev => ({\n              ...prev,\n              isSignedIn: false, // Access token failed\n              error: new Error(tokenResponse?.error_description || tokenResponse?.error || 'Failed to get access token from Google.'),\n              isLoading: false,\n            }));\n            setAccessToken(null);\n          }\n        },\n        error_callback: (error: any) => { // This is for errors during the token client flow\n          console.error('GIS Token client error_callback (requestAccessToken):', error);\n          setAuthState(prev => ({\n            ...prev,\n            isSignedIn: false,\n            error: new Error(error?.message || error?.type || 'Google token request failed.'),\n            isLoading: false,\n          }));\n          setAccessToken(null);\n        },\n      });\n      tokenClient.requestAccessToken({ prompt: '' }); // prompt: 'consent' for explicit user consent if needed, '' or 'none' for silent if possible\n    } catch (e) {\n      console.error(\"Error initializing or using GIS token client:\", e);\n      setAuthState(prev => ({ ...prev, isLoading: false, error: new Error(\"Failed to setup Google token request.\") }));\n    }\n  }, []);\n\n  const signIn = useCallback(() => {\n    setAuthState(prev => ({ ...prev, isLoading: true, error: null }));\n    if (!gisInitializedRef.current) {\n        console.error(\"GIS not initialized. Cannot sign in.\");\n        setAuthState(prev => ({ ...prev, isLoading: false, error: new Error(\"Google Sign-In service not ready.\") }));\n        return;\n    }\n    // For GIS, signIn primarily means getting an access token for scopes.\n    // The ID token (demographic sign-in) is often handled by google.accounts.id.prompt() or a rendered button.\n    // If we call requestAccessToken directly, it should trigger consent if needed.\n    requestAccessToken();\n  }, [requestAccessToken]);\n\n  const signOut = useCallback(() => {\n    if (accessToken) {\n      window.google?.accounts?.oauth2?.revoke(accessToken, () => {\n        console.log('GIS Access token revoked.');\n      });\n    }\n    window.google?.accounts?.id?.disableAutoSelect();\n    \n    setAuthState({\n      isSignedIn: false,\n      user: null,\n      error: null,\n      isLoading: false,\n    });\n    setAccessToken(null);\n    if (window.gapi && window.gapi.client) {\n      window.gapi.client.setToken(null);\n    }\n    console.log(\"User signed out from app, GIS session cleared.\");\n  }, [accessToken]);\n\n  return { ...authState, accessToken, signIn, signOut, isLoading: authState.isLoading };\n};\n\nexport default useGoogleAuth;\n","\nimport { GoogleCalendarEvent } from '../types';\n\ndeclare global {\n  interface Window {\n    gapi: any;\n  }\n}\n\n// This function assumes that gapi.client and gapi.client.calendar are loaded by useGoogleAuth.\n// It primarily focuses on setting the token and making the call.\nexport const listUpcomingEvents = async (accessToken: string | null, maxResults = 100): Promise<GoogleCalendarEvent[]> => {\n  if (!accessToken) {\n    console.warn('No access token provided for listUpcomingEvents.');\n    // throw new Error('Access token is required to fetch Google Calendar events.');\n    return []; // Or throw error\n  }\n\n  if (!window.gapi || !window.gapi.client || !window.gapi.client.calendar) {\n    console.error('Google Calendar API client (gapi.client.calendar) is not loaded. This should be handled by useGoogleAuth.');\n    throw new Error('Google Calendar API client not ready.');\n  }\n  \n  try {\n    window.gapi.client.setToken({ access_token: accessToken });\n    console.log(\"Fetching Google Calendar events with GAPI client...\");\n    const response = await window.gapi.client.calendar.events.list({\n      calendarId: 'primary',\n      timeMin: new Date().toISOString(),\n      showDeleted: false,\n      singleEvents: true,\n      maxResults: maxResults,\n      orderBy: 'startTime',\n    });\n\n    const events = response.result.items.map((event: any) => ({\n      id: event.id,\n      summary: event.summary || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',\n      start: event.start,\n      end: event.end,\n      htmlLink: event.htmlLink,\n      isGoogleEvent: true,\n    }));\n    console.log(\"Fetched events:\", events.length);\n    return events;\n  } catch (error: any) {\n    console.error('Error fetching Google Calendar events:', error);\n    let detailedMessage = 'Failed to fetch Google Calendar events.';\n    if (error.result && error.result.error && error.result.error.message) {\n        detailedMessage = `Google API Error: ${error.result.error.message}`;\n    } else if (error.message) {\n        detailedMessage = error.message;\n    }\n    // Potentially check for 401/403 to indicate token issues\n    if (error.code === 401 || (error.result && error.result.error && error.result.error.code === 401)) {\n        detailedMessage = \"–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —Å–Ω–æ–≤–∞.\";\n        // Optionally, trigger a re-auth or token refresh if possible, or notify user.\n    }\n    throw new Error(detailedMessage);\n  }\n};\n\nexport const doesEventOccurOnDate = (event: GoogleCalendarEvent, dateString: string): boolean => {\n  const targetDate = new Date(dateString + 'T00:00:00'); // Ensure local timezone midnight\n\n  const eventStartStr = event.start?.date || event.start?.dateTime;\n  const eventEndStr = event.end?.date || event.end?.dateTime;\n\n  if (!eventStartStr || !eventEndStr) return false;\n\n  const eventStartDate = new Date(eventStartStr);\n  // For all-day events, Google Calendar's end date is exclusive.\n  // e.g., an event on 2023-10-10 will have end.date = 2023-10-11.\n  // For timed events, end.dateTime is inclusive.\n  const eventEndDate = new Date(eventEndStr);\n  \n  // Normalize to date parts only for comparison\n  eventStartDate.setHours(0,0,0,0);\n  \n  if(event.start?.date) { // All-day event\n    // For all-day events, the actual end day is one day before the 'date' field in event.end\n    const exclusiveEndDate = new Date(eventEndStr);\n    exclusiveEndDate.setDate(exclusiveEndDate.getDate() -1);\n    exclusiveEndDate.setHours(0,0,0,0);\n    return targetDate >= eventStartDate && targetDate <= exclusiveEndDate;\n  } else { // Timed event\n     eventEndDate.setHours(0,0,0,0); // Consider timed events spanning multiple midnights\n     return targetDate >= eventStartDate && targetDate <= eventEndDate;\n  }\n};\n","import React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { Task, GoogleCalendarEvent } from '../types';\nimport { fetchUserTasks } from '../src/services/backendApi';\nimport useGoogleAuth from '../hooks/useGoogleAuth';\nimport { listUpcomingEvents, doesEventOccurOnDate } from '../services/googleCalendarService';\nimport { GOOGLE_CLIENT_ID } from '../constants';\n\nconst DAYS_OF_WEEK_LABELS = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];\nconst MONTH_NAMES_RU = [\n  '–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',\n  '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'\n];\n\ninterface CombinedEventItem extends Partial<Task>, Partial<GoogleCalendarEvent> {\n  isGoogleEvent?: boolean;\n  eventTime?: string; \n  eventDateObject?: Date;\n}\n\ninterface CalendarDayPopoverProps {\n  items: CombinedEventItem[];\n  date: Date;\n  onClose: () => void;\n  positionRef: React.RefObject<HTMLDivElement>;\n}\n\nconst CalendarDayPopover: React.FC<CalendarDayPopoverProps> = ({ items, date, onClose, positionRef }) => {\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (popoverRef.current && !popoverRef.current.contains(event.target as Node) && \n          positionRef.current && !positionRef.current.contains(event.target as Node)) {\n        onClose();\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [onClose, positionRef]);\n  \n  if (!items.length) return null;\n\n  const sortedItems = [...items].sort((a, b) => {\n    const timeA = a.isGoogleEvent ? a.start?.dateTime || a.start?.date : (a.dueDate + \"T\" + (a.dueTime || \"00:00\"));\n    const timeB = b.isGoogleEvent ? b.start?.dateTime || b.start?.date : (b.dueDate + \"T\" + (b.dueTime || \"00:00\"));\n    \n    const dateA = new Date(timeA || 0);\n    const dateB = new Date(timeB || 0);\n\n    if (a.isGoogleEvent && a.start?.date && !a.start?.dateTime) dateA.setHours(0,0,0,1);\n    if (b.isGoogleEvent && b.start?.date && !b.start?.dateTime) dateB.setHours(0,0,0,1);\n    \n    return dateA.getTime() - dateB.getTime();\n  });\n\n  return (\n    <div \n      ref={popoverRef}\n      className=\"absolute z-20 mt-1 w-72 bg-white border border-slate-200 rounded-lg shadow-xl p-3 text-sm\"\n      style={{ top: '100%', left: '50%', transform: 'translateX(-50%)' }} \n    >\n      <h4 className=\"font-semibold text-sky-600 mb-2\">\n        –°–æ–±—ã—Ç–∏—è –Ω–∞ {date.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long' })}:\n      </h4>\n      <ul className=\"space-y-1.5 max-h-48 overflow-y-auto custom-scrollbar pr-1\">\n        {sortedItems.map(item => (\n          <li key={item.id || item.summary} className=\"text-slate-600\" title={item.text || item.summary}>\n            {item.isGoogleEvent ? (\n              <a href={item.htmlLink} target=\"_blank\" rel=\"noopener noreferrer\" className=\"hover:text-sky-500 group flex items-start\">\n                <i className={`far fa-calendar-check mr-2 mt-0.5 text-xs text-indigo-500 group-hover:text-indigo-400`}></i>\n                <span className=\"truncate flex-1\">{item.summary} {item.start?.dateTime ? `(${new Date(item.start.dateTime).toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'})})` : '(–í–µ—Å—å –¥–µ–Ω—å)'}</span>\n                <i className=\"fas fa-external-link-alt text-xs opacity-50 group-hover:opacity-100 ml-1 self-center\"></i>\n              </a>\n            ) : (\n              <div className=\"flex items-start\">\n                <i className={`fas fa-circle mr-2 mt-1 text-xs ${item.isCompleted ? 'text-slate-400' : 'text-emerald-500'}`}></i>\n                <span className=\"truncate flex-1\">{item.text} {item.dueTime && `(${item.dueTime})`}</span>\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n      <button onClick={onClose} className=\"absolute top-1.5 right-1.5 text-slate-400 hover:text-slate-600 p-1 rounded-full focus-ring\">\n          <i className=\"fas fa-times\"></i>\n      </button>\n    </div>\n  );\n};\n\ninterface MonthViewProps {\n  year: number;\n  month: number; // 0-indexed\n  tasks: Task[];\n  googleEvents: GoogleCalendarEvent[];\n  onDayClick: (day: Date, localTasks: Task[], googleEvents: GoogleCalendarEvent[], ref: React.RefObject<HTMLDivElement>) => void;\n  selectedDayDate: Date | null;\n  dayRefs: React.MutableRefObject<Map<string, React.RefObject<HTMLDivElement>>>;\n}\n\nconst MonthView: React.FC<MonthViewProps> = ({ year, month, tasks, googleEvents, onDayClick, selectedDayDate, dayRefs }) => {\n  const firstDayOfMonth = new Date(year, month, 1);\n  const lastDayOfMonth = new Date(year, month + 1, 0);\n  const startingDayOfWeek = firstDayOfMonth.getDay(); \n\n  const daysInMonthGrid = [];\n  for (let i = 0; i < startingDayOfWeek; i++) {\n    daysInMonthGrid.push(null);\n  }\n  for (let day = 1; day <= lastDayOfMonth.getDate(); day++) {\n    daysInMonthGrid.push(new Date(year, month, day));\n  }\n\n  const todayFull = new Date();\n  const today = new Date(todayFull.getFullYear(), todayFull.getMonth(), todayFull.getDate());\n\n\n  return (\n    <div className=\"flex-1 min-w-[280px]\">\n      <h3 className=\"text-xl font-semibold text-slate-700 text-center mb-3\">\n        {MONTH_NAMES_RU[month]} {year}\n      </h3>\n      <div className=\"grid grid-cols-7 gap-1 text-center text-xs font-medium text-slate-500 mb-2\">\n        {DAYS_OF_WEEK_LABELS.map(dayLabel => <div key={`${month}-${dayLabel}`}>{dayLabel}</div>)}\n      </div>\n      <div className=\"grid grid-cols-7 gap-1\">\n        {daysInMonthGrid.map((dayObject, index) => {\n          if (!dayObject) {\n            return <div key={`empty-${month}-${index}`} className=\"h-10 sm:h-12 rounded-md\"></div>;\n          }\n          const day = dayObject as Date;\n          const dayStr = day.toISOString().split('T')[0];\n          \n          const getDayRef = (dStr: string) => {\n            if (!dayRefs.current.has(dStr)) {\n                dayRefs.current.set(dStr, React.createRef<HTMLDivElement>());\n            }\n            return dayRefs.current.get(dStr)!;\n          };\n          const dayRef = getDayRef(dayStr);\n          \n          let localTasksOnThisDay = tasks.filter(task => task.dueDate === dayStr && !task.isCompleted);\n          if (day.getTime() === today.getTime()) {\n            const overdueTasks = tasks.filter(task => !task.isCompleted && task.dueDate && new Date(task.dueDate + 'T23:59:59') < today);\n            localTasksOnThisDay = [...localTasksOnThisDay, ...overdueTasks.filter(ot => !localTasksOnThisDay.find(lt => lt.id === ot.id))];\n          }\n\n\n          const googleEventsOnThisDay = googleEvents.filter(event => doesEventOccurOnDate(event, dayStr));\n          \n          const isToday = day.getTime() === today.getTime();\n          const isSelected = selectedDayDate?.getTime() === day.getTime();\n          const hasActiveLocalTasks = localTasksOnThisDay.some(t => !t.isCompleted);\n          const hasGoogleEvents = googleEventsOnThisDay.length > 0;\n\n          return (\n            <div \n              key={dayStr} \n              ref={dayRef}\n              className={`relative h-10 sm:h-12 p-1 border border-transparent rounded-md flex flex-col items-center justify-center text-xs sm:text-sm transition-all duration-150 cursor-pointer\n                ${isToday ? 'bg-sky-100 text-sky-700 font-semibold' : 'text-slate-600 hover:bg-slate-100'}\n                ${isSelected ? 'ring-2 ring-sky-500 bg-slate-100' : ''}\n              `}\n              onClick={() => onDayClick(day, localTasksOnThisDay, googleEventsOnThisDay, dayRef)}\n              role=\"button\" tabIndex={0}\n              onKeyDown={(e) => (e.key === 'Enter' || e.key === ' ') && onDayClick(day, localTasksOnThisDay, googleEventsOnThisDay, dayRef)}\n              aria-pressed={isSelected}\n              aria-label={`–î–∞—Ç–∞ ${day.getDate()} ${MONTH_NAMES_RU[month]}`}\n            >\n              <span>{day.getDate()}</span>\n              <div className=\"absolute bottom-1 left-1/2 -translate-x-1/2 flex space-x-0.5\">\n                {hasActiveLocalTasks && <span className=\"block w-1.5 h-1.5 bg-emerald-500 rounded-full\" title=\"–ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏\"></span>}\n                {hasGoogleEvents && <span className=\"block w-1.5 h-1.5 bg-indigo-500 rounded-full\" title=\"–ï—Å—Ç—å —Å–æ–±—ã—Ç–∏—è Google Calendar\"></span>}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\n\nconst TaskCalendar: React.FC = () => {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [googleEvents, setGoogleEvents] = useState<GoogleCalendarEvent[]>([]);\n  const [currentDisplayDate, setCurrentDisplayDate] = useState(new Date());\n  const [selectedDay, setSelectedDay] = useState<{ date: Date; items: CombinedEventItem[]; ref: React.RefObject<HTMLDivElement> } | null>(null);\n  const dayRefs = useRef<Map<string, React.RefObject<HTMLDivElement>>>(new Map());\n  \n  const { isSignedIn, user, signIn, signOut, isLoading: authIsLoading, error: authError, accessToken } = useGoogleAuth();\n  const [eventsLoading, setEventsLoading] = useState(false);\n  const [eventsError, setEventsError] = useState<string | null>(null);\n\n  const isGoogleApiConfigured = (GOOGLE_CLIENT_ID as string) !== 'YOUR_GOOGLE_CLIENT_ID_HERE';\n\n  const fetchGoogleEventsCb = useCallback(async () => {\n    if (!isSignedIn || !isGoogleApiConfigured || !accessToken) {\n        setGoogleEvents([]);\n        return;\n    }\n    setEventsLoading(true);\n    setEventsError(null);\n    try {\n      // Pass the access token obtained from GIS to the service function\n      const events = await listUpcomingEvents(accessToken); \n      setGoogleEvents(events);\n    } catch (err: any) {\n      console.error(\"Error fetching Google events in component:\", err);\n      setEventsError(err.message || \"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ–±—ã—Ç–∏—è –∏–∑ Google Calendar.\");\n    } finally {\n      setEventsLoading(false);\n    }\n  }, [isSignedIn, isGoogleApiConfigured, accessToken]);\n\n  useEffect(() => {\n    if (isSignedIn && accessToken) { \n      fetchGoogleEventsCb();\n    } else {\n      setGoogleEvents([]);\n    }\n  }, [isSignedIn, accessToken, fetchGoogleEventsCb]);\n\n  useEffect(() => {\n    setLoading(true);\n    fetchUserTasks()\n      .then(setTasks)\n      .catch(e => setError(e.message))\n      .finally(() => setLoading(false));\n  }, []);\n\n  const changeMonth = useCallback((offset: number) => {\n    setCurrentDisplayDate(prevDate => {\n      const newDate = new Date(prevDate);\n      newDate.setDate(1); \n      newDate.setMonth(newDate.getMonth() + offset);\n      return newDate;\n    });\n    setSelectedDay(null);\n  }, []);\n\n  const handleDayClick = (day: Date, dayLocalTasks: Task[], dayGoogleEvents: GoogleCalendarEvent[], ref: React.RefObject<HTMLDivElement>) => {\n    const today = new Date();\n    today.setHours(0,0,0,0);\n    \n    let relevantLocalTasks = dayLocalTasks;\n    if (day.getTime() === today.getTime()) {\n        const overdueTasks = tasks.filter(task => !task.isCompleted && task.dueDate && new Date(task.dueDate + 'T23:59:59') < today);\n        overdueTasks.forEach(ot => {\n            if(!relevantLocalTasks.find(rlt => rlt.id === ot.id)) {\n                relevantLocalTasks.push(ot);\n            }\n        });\n    }\n\n    const combinedItems: CombinedEventItem[] = [\n      ...relevantLocalTasks.map(task => ({\n        ...task, \n        eventTime: task.dueTime,\n        eventDateObject: task.dueDate ? new Date(task.dueDate + \"T\" + (task.dueTime || \"00:00:00\")) : new Date()\n      })), \n      ...dayGoogleEvents.map(e => {\n        const start = e.start?.dateTime || e.start?.date;\n        let eventDateObject = start ? new Date(start) : new Date();\n        let eventTime = '';\n        if (e.start?.dateTime) {\n          eventTime = eventDateObject.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });\n        }\n        return { ...e, isGoogleEvent: true, eventTime, eventDateObject };\n      })\n    ];\n\n    if (selectedDay && selectedDay.date.getTime() === day.getTime() && selectedDay.ref === ref) {\n      setSelectedDay(null); \n    } else if (combinedItems.length > 0) {\n      setSelectedDay({ date: day, items: combinedItems, ref });\n    } else {\n      setSelectedDay(null); \n    }\n  };\n  \n  const year1 = currentDisplayDate.getFullYear();\n  const month1 = currentDisplayDate.getMonth();\n  \n  const nextMonthDate = new Date(currentDisplayDate);\n  nextMonthDate.setMonth(nextMonthDate.getMonth() + 1);\n  const year2 = nextMonthDate.getFullYear();\n  const month2 = nextMonthDate.getMonth();\n\n  const today = new Date();\n  today.setHours(0,0,0,0);\n  const todayStr = today.toISOString().split('T')[0];\n\n  const overdueTasksForTodaySection = tasks.filter(task => !task.isCompleted && task.dueDate && new Date(task.dueDate + 'T23:59:59') < today);\n  const localTasksDueToday = tasks.filter(task => task.dueDate === todayStr);\n  const uniqueLocalTasksForTodaySection = [...new Map([...overdueTasksForTodaySection, ...localTasksDueToday].map(item => [item.id, item])).values()];\n\n  const googleEventsToday = googleEvents.filter(event => doesEventOccurOnDate(event, todayStr));\n  \n  const combinedTodayItems: CombinedEventItem[] = [\n    ...uniqueLocalTasksForTodaySection.map(task => {\n        let eventDateObject = task.dueDate ? new Date(task.dueDate + \"T\"+ (task.dueTime || \"00:00:00\")) : new Date();\n        return {...task, eventTime: task.dueTime, eventDateObject};\n    }),\n    ...googleEventsToday.map(event => {\n      const start = event.start?.dateTime || event.start?.date;\n      let eventDateObject = start ? new Date(start) : new Date();\n      let eventTime = '';\n      if (event.start?.dateTime) {\n        eventTime = eventDateObject.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });\n      } else { \n        eventDateObject.setHours(0,0,0,1); \n      }\n      return { ...event, isGoogleEvent: true, eventTime, eventDateObject };\n    })\n  ].sort((a, b) => (a.eventDateObject?.getTime() || 0) - (b.eventDateObject?.getTime() || 0));\n\n\n  const renderGoogleAuthButton = () => {\n    if (!isGoogleApiConfigured) {\n      return (\n        <div className=\"flex flex-col items-start sm:items-end gap-1\" \n             title=\"Google Calendar API –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ Client ID –≤ constants.ts.\">\n          <button\n            className=\"text-sm bg-slate-400 text-white py-1.5 px-3 rounded-md font-medium flex items-center justify-center focus-ring cursor-not-allowed\"\n            disabled\n          >\n            <i className=\"fab fa-google mr-1.5\"></i> –ü–æ–¥–∫–ª—é—á–∏—Ç—å Google Calendar\n          </button>\n          <p className=\"text-xs text-amber-600 text-center sm:text-right\">\n            (Client ID –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)\n          </p>\n        </div>\n      );\n    }\n    if (authIsLoading) {\n      return <button className=\"text-sm bg-slate-100 text-slate-500 p-2 rounded-lg transition-colors font-medium flex items-center justify-center focus-ring\" disabled>\n               <i className=\"fas fa-spinner fa-spin mr-2\"></i> –ó–∞–≥—Ä—É–∑–∫–∞ Google Auth...\n             </button>;\n    }\n    if (authError) { \n         return <p className=\"text-xs text-rose-600 bg-rose-50 p-2 rounded-md border border-rose-200 max-w-xs text-right\"><i className=\"fas fa-exclamation-circle mr-1\"></i>–û—à–∏–±–∫–∞ Google Auth: {authError.message}</p>\n    }\n    if (isSignedIn) {\n      return (\n        <div className=\"flex flex-col sm:flex-row items-center gap-2 text-sm\">\n          <span className=\"text-slate-600 truncate max-w-[150px] sm:max-w-xs\" title={user?.getEmail ? user.getEmail() : 'Google User'}>\n            <i className=\"fab fa-google mr-1.5 text-sky-600\"></i> {user?.getName ? user.getName() : 'Google User'}\n          </span>\n          <button\n            onClick={signOut}\n            className=\"bg-rose-500 hover:bg-rose-600 text-white py-1.5 px-3 rounded-md transition-colors font-medium flex items-center justify-center focus-ring text-xs\"\n          >\n            <i className=\"fas fa-sign-out-alt mr-1.5\"></i>–û—Ç–∫–ª—é—á–∏—Ç—å\n          </button>\n        </div>\n      );\n    }\n    return (\n      <button\n        onClick={signIn} \n        className=\"text-sm bg-sky-600 hover:bg-sky-500 text-white py-1.5 px-3 rounded-md transition-colors font-medium flex items-center justify-center focus-ring\"\n      >\n        <i className=\"fab fa-google mr-1.5\"></i> –ü–æ–¥–∫–ª—é—á–∏—Ç—å Google Calendar\n      </button>\n    );\n  }\n\n  if (loading) {\n    return <div className=\"bg-white rounded-lg p-6 text-center text-slate-500\"><i className=\"fas fa-spinner fa-spin mr-2\"></i>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á...</div>;\n  }\n  if (error) {\n    return <div className=\"bg-white rounded-lg p-6 text-center text-rose-600\">{error}</div>;\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg\">\n      <div className=\"flex flex-col sm:flex-row justify-between sm:items-start mb-6 gap-3\">\n        <h1 className=\"text-3xl font-bold text-slate-800\">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</h1>\n        {renderGoogleAuthButton()}\n      </div>\n\n      {eventsLoading && isSignedIn && <p className=\"text-sm text-slate-500 my-2\"><i className=\"fas fa-spinner fa-spin mr-2\"></i>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π Google Calendar...</p>}\n      {eventsError && isSignedIn && <p className=\"text-sm text-rose-500 my-2\"><i className=\"fas fa-exclamation-circle mr-1\"></i>{eventsError}</p>}\n\n      <div className=\"flex justify-between items-center mb-6\">\n        <button \n          onClick={() => changeMonth(-1)} \n          className=\"p-2 rounded-md hover:bg-slate-100 transition-colors focus-ring text-slate-500 hover:text-slate-700\"\n          aria-label=\"–ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü\"\n        >\n          <i className=\"fas fa-chevron-left text-lg\"></i>\n        </button>\n        <button \n          onClick={() => changeMonth(1)} \n          className=\"p-2 rounded-md hover:bg-slate-100 transition-colors focus-ring text-slate-500 hover:text-slate-700\"\n          aria-label=\"–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü\"\n        >\n          <i className=\"fas fa-chevron-right text-lg\"></i>\n        </button>\n      </div>\n      \n      <div className=\"flex flex-col md:flex-row gap-x-8 gap-y-6 mb-8\">\n        <MonthView \n            year={year1} month={month1} \n            tasks={tasks} googleEvents={googleEvents} \n            onDayClick={handleDayClick} selectedDayDate={selectedDay?.date || null} \n            dayRefs={dayRefs} \n        />\n        <MonthView \n            year={year2} month={month2} \n            tasks={tasks} googleEvents={googleEvents} \n            onDayClick={handleDayClick} selectedDayDate={selectedDay?.date || null} \n            dayRefs={dayRefs}\n        />\n      </div>\n      \n      {selectedDay && selectedDay.items.length > 0 && (\n        <CalendarDayPopover \n            items={selectedDay.items} \n            date={selectedDay.date} \n            onClose={() => setSelectedDay(null)}\n            positionRef={selectedDay.ref}\n        />\n      )}\n\n      <div className=\"mt-8 pt-6 border-t border-slate-200\">\n        <h2 className=\"text-2xl font-semibold text-slate-700 mb-4\">–°–µ–≥–æ–¥–Ω—è, {new Date().toLocaleDateString('ru-RU', { day: 'numeric', month: 'long' })}</h2>\n        {combinedTodayItems.length > 0 ? (\n          <ul className=\"space-y-2\">\n            {combinedTodayItems.map((item, index) => (\n              <li key={`${item.id || item.summary}-${index}`} className={`p-3 rounded-md text-sm flex items-start\n                ${item.isGoogleEvent ? 'bg-indigo-50 border-indigo-200' : (item.isCompleted ? 'bg-slate-100 border-slate-200 opacity-70' : 'bg-emerald-50 border-emerald-200')}\n                border`}>\n                 {item.isGoogleEvent ? (\n                    <i className=\"far fa-calendar-check w-4 mr-3 mt-0.5 text-indigo-500\"></i>\n                  ) : (\n                    <i className={`fas fa-circle w-4 mr-3 mt-1 text-xs ${item.isCompleted ? 'text-slate-400' : 'text-emerald-500'}`}></i>\n                 )}\n                <div className=\"flex-grow min-w-0\">\n                  <span className={`font-medium break-words ${item.isGoogleEvent ? 'text-indigo-700' : (item.isCompleted ? 'text-slate-500 line-through' : 'text-emerald-700')}`}>\n                    {item.summary || item.text}\n                  </span>\n                  {item.eventTime && <span className=\"ml-2 text-xs text-slate-500\">({item.eventTime})</span>}\n                </div>\n                {item.isGoogleEvent && item.htmlLink && (\n                   <a href={item.htmlLink} target=\"_blank\" rel=\"noopener noreferrer\" className=\"ml-2 text-sky-600 hover:text-sky-700 text-xs self-center\">\n                     <i className=\"fas fa-external-link-alt\"></i>\n                   </a>\n                )}\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p className=\"text-slate-500\">–ù–∞ —Å–µ–≥–æ–¥–Ω—è —Å–æ–±—ã—Ç–∏–π –Ω–µ—Ç.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TaskCalendar;\n","import React, { useState, useCallback, useEffect } from 'react';\n\nconst FocusTip: React.FC = () => {\n  const [tip, setTip] = useState<string>('');\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string>('');\n\n  const fetchTip = useCallback(async () => {\n    setIsLoading(true);\n    setError('');\n    try {\n      setTip('–ò–ò-—Å–æ–≤–µ—Ç—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. –û–∂–∏–¥–∞–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.');\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–æ–≤–µ—Ç–∞.';\n      if (tip) { \n        setError(`–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ–≤–µ—Ç: ${errorMessage}`);\n      } else {\n        setError(errorMessage);\n      }\n      console.error(\"FocusTip fetch error (raw):\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [tip]); \n\n  useEffect(() => {\n    fetchTip();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); \n\n\n  return (\n    // This component is designed to be embeddable. If it were a main view, it would have an H1 title.\n    // For now, it's a self-contained card-like element.\n    <div className=\"bg-white border border-slate-200 shadow-sm rounded-lg p-6\">\n      <h2 className=\"text-xl font-semibold text-slate-700 mb-4 flex items-center\">\n        <i className=\"fas fa-lightbulb mr-3 text-yellow-500\"></i>\n        –°–æ–≤–µ—Ç –ø–æ –§–æ–∫—É—Å–∏—Ä–æ–≤–∫–µ\n      </h2>\n      \n      {isLoading && !tip && (\n        <div className=\"flex items-center justify-center text-slate-500 py-6\" aria-live=\"polite\">\n          <i className=\"fas fa-spinner fa-spin text-2xl mr-3\"></i>\n          <span>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–≤–µ—Ç–∞...</span>\n        </div>\n      )}\n\n      {error && !isLoading && (\n         <p className={`text-rose-600 ${tip ? 'bg-rose-50 p-2 rounded-md text-sm mt-2 border border-rose-200' : 'bg-rose-100 p-3 rounded-lg text-base border border-rose-300'} `} role=\"alert\">\n            <i className=\"fas fa-exclamation-triangle mr-2\"></i>{error}\n         </p>\n      )}\n      \n      {tip && (\n        <blockquote className=\"border-l-4 border-sky-500 pl-4 py-2 my-3 bg-slate-50 rounded-r-lg\">\n          <p className=\"text-slate-600 italic text-base\">{tip}</p>\n        </blockquote>\n      )}\n\n      {!isLoading && !tip && !error && (\n         <p className=\"text-slate-500 text-center py-6\">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ–≤–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.</p>\n      )}\n\n      <button\n        onClick={fetchTip}\n        disabled={isLoading}\n        className=\"mt-4 w-full bg-sky-600 hover:bg-sky-500 text-white font-semibold py-2.5 px-4 rounded-lg transition-colors disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center focus-ring\"\n      >\n        <i className={`fas ${isLoading ? 'fa-spinner fa-spin' : 'fa-sync-alt'} mr-2`}></i>\n        {isLoading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–ù–æ–≤—ã–π –°–æ–≤–µ—Ç'}\n      </button>\n    </div>\n  );\n};\n\nexport default FocusTip;","// Helper function to get the ISO week number for a date.\nconst getWeek = (date: Date): number => {\n  const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n  // Set to nearest Thursday: current date + 4 - current day number\n  // Make Sunday's day number 7\n  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));\n  // Get first day of year\n  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n  // Calculate full weeks to nearest Thursday\n  const weekNo = Math.ceil((((d.valueOf() - yearStart.valueOf()) / 86400000) + 1) / 7);\n  return weekNo;\n};\n\n/**\n * Returns a unique week identifier string (e.g., \"2023-W34\").\n * Uses ISO 8601 week date system.\n * @param date The date to get the week identifier for.\n * @returns A string in the format \"YYYY-Www\".\n */\nexport const getWeekId = (date: Date): string => {\n  const year = date.getUTCFullYear(); // Use UTC year for ISO week consistency\n  const weekNumber = getWeek(date);\n  return `${year}-W${weekNumber.toString().padStart(2, '0')}`;\n};\n\n/**\n * Gets the start date of the week for a given date.\n * @param date The date within the target week.\n * @param startDay The day the week starts on (0 for Sunday, 1 for Monday, etc.). Defaults to 1 (Monday).\n * @returns A Date object representing the start of the week at 00:00:00.\n */\nexport const getStartOfWeek = (date: Date, startDay: number = 1): Date => {\n  const d = new Date(date);\n  const day = d.getDay(); // 0 for Sunday, 1 for Monday, ...\n  const diff = d.getDate() - day + (day === 0 && startDay !== 0 ? -6 : startDay); // Adjust diff based on startDay\n  \n  const startDate = new Date(d.setDate(diff));\n  startDate.setHours(0, 0, 0, 0);\n  return startDate;\n};\n\n\n/**\n * Gets the end date of the week for a given date.\n * @param date The date within the target week.\n * @param startDay The day the week starts on (0 for Sunday, 1 for Monday, etc.). Defaults to 1 (Monday).\n * @returns A Date object representing the end of the week at 23:59:59.999.\n */\nexport const getEndOfWeek = (date: Date, startDay: number = 1): Date => {\n  const startDate = getStartOfWeek(date, startDay);\n  const endDate = new Date(startDate);\n  endDate.setDate(startDate.getDate() + 6);\n  endDate.setHours(23, 59, 59, 999);\n  return endDate;\n};","import React, { useEffect, useMemo, useState } from 'react';\nimport { Task, WeeklyRewardState } from '../types';\nimport { fetchUserTasks } from '../src/services/backendApi';\nimport { getWeekId, getStartOfWeek, getEndOfWeek } from '../utils/dateUtils';\n\nconst MAX_TASKS_FOR_REWARD = 10;\nconst MUG_INNER_HEIGHT = 18; // Max height for the liquid in SVG units\nconst LIQUID_BOTTOM_Y = 22; // Y-coordinate for the bottom of the liquid area\n\nconst WeeklyProgressReward: React.FC = () => {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  // weeklyBeerReward –æ—Å—Ç–∞–≤–ª—è–µ–º –≤ localStorage, –∫–∞–∫ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É\n  const initialRewardState: WeeklyRewardState = { weekId: getWeekId(new Date()), claimed: false };\n  const [rewardStatus, setRewardStatus] = useState<WeeklyRewardState>(() => {\n    const saved = localStorage.getItem('weeklyBeerReward');\n    return saved ? JSON.parse(saved) : initialRewardState;\n  });\n\n  useEffect(() => {\n    setLoading(true);\n    fetchUserTasks()\n      .then(setTasks)\n      .catch(e => setError(e.message))\n      .finally(() => setLoading(false));\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('weeklyBeerReward', JSON.stringify(rewardStatus));\n  }, [rewardStatus]);\n\n  const currentWeekId = useMemo(() => getWeekId(new Date()), []);\n  const startOfCurrentWeek = useMemo(() => getStartOfWeek(new Date(), 1), []);\n  const endOfCurrentWeek = useMemo(() => getEndOfWeek(new Date(), 1), []);\n\n  useEffect(() => {\n    if (rewardStatus.weekId !== currentWeekId) {\n      setRewardStatus({ weekId: currentWeekId, claimed: false });\n    }\n  }, [currentWeekId, rewardStatus.weekId]);\n\n  const completedTasksThisWeekCount = useMemo(() => {\n    return tasks.filter(task => {\n      if (!task.isCompleted || !task.completedAt) return false;\n      const completedDate = new Date(task.completedAt);\n      return completedDate >= startOfCurrentWeek && completedDate <= endOfCurrentWeek;\n    }).length;\n  }, [tasks, startOfCurrentWeek, endOfCurrentWeek]);\n\n  useEffect(() => {\n    if (\n      rewardStatus.weekId === currentWeekId &&\n      !rewardStatus.claimed &&\n      completedTasksThisWeekCount >= MAX_TASKS_FOR_REWARD\n    ) {\n      setRewardStatus(prev => ({ ...prev, claimed: true }));\n    }\n  }, [completedTasksThisWeekCount, currentWeekId, rewardStatus.claimed, rewardStatus.weekId]);\n\n  if (loading) {\n    return <div className=\"py-2 px-1 flex flex-col items-center text-slate-500\"><i className=\"fas fa-spinner fa-spin mr-2\"></i>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;\n  }\n  if (error) {\n    return <div className=\"py-2 px-1 flex flex-col items-center text-rose-600\">{error}</div>;\n  }\n\n  const isRewardClaimedForCurrentWeek = rewardStatus.weekId === currentWeekId && rewardStatus.claimed;\n\n  const progressToDisplay = isRewardClaimedForCurrentWeek\n    ? MAX_TASKS_FOR_REWARD\n    : Math.min(completedTasksThisWeekCount, MAX_TASKS_FOR_REWARD);\n\n  const liquidCurrentHeight = (progressToDisplay / MAX_TASKS_FOR_REWARD) * MUG_INNER_HEIGHT;\n  const liquidY = LIQUID_BOTTOM_Y - liquidCurrentHeight;\n  const foamY = liquidY - 1.5; // Position foam just above the liquid\n  const foamOpacity = progressToDisplay > 0 ? 1 : 0;\n\n  const titleText = isRewardClaimedForCurrentWeek\n    ? `–ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –Ω–µ–¥–µ–ª—é –ø–æ–ª—É—á–µ–Ω–∞! (${MAX_TASKS_FOR_REWARD}/${MAX_TASKS_FOR_REWARD} –∑–∞–¥–∞—á)`\n    : `–í—ã–ø–æ–ª–Ω–µ–Ω–æ ${progressToDisplay} –∏–∑ ${MAX_TASKS_FOR_REWARD} –∑–∞–¥–∞—á –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ`;\n\n  return (\n    <div className=\"mt-3 py-2 px-1 flex flex-col items-center group\" title={titleText}>\n      <svg width=\"32\" height=\"36\" viewBox=\"0 0 32 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" \n           className=\"text-slate-400 transition-all duration-300 ease-in-out group-hover:scale-110 group-hover:text-slate-500\" \n           aria-hidden=\"true\">\n        {/* Mug Base */}\n        <path d=\"M8 28H24C25.1046 28 26 28.8954 26 30V32C26 33.1046 25.1046 34 24 34H8C6.89543 34 6 33.1046 6 32V30C6 28.8954 6.89543 28 8 28Z\" \n              fill=\"#E5E7EB\" stroke=\"currentColor\" strokeWidth=\"1.5\"/>\n        \n        {/* Mug Body */}\n        <path d=\"M6 4H26C27.1046 4 28 4.89543 28 6V26C28 27.1046 27.1046 28 26 28H6C4.89543 28 4 27.1046 4 26V6C4 4.89543 4.89543 4 6 4Z\" \n              stroke=\"currentColor\" strokeWidth=\"1.5\" fill={progressToDisplay > 0 ? \"#E5E7EB\" : \"#F3F4F6\"} />\n        \n        {/* Mug Handle */}\n        <path d=\"M26 8H30C31.1046 8 32 8.89543 32 10V20C32 21.1046 31.1046 22 30 22H26\" \n              stroke=\"currentColor\" strokeWidth=\"1.5\" fill={progressToDisplay > 0 ? \"#E5E7EB\" : \"#F3F4F6\"}/>\n        \n        {/* Liquid with gradient */}\n        {progressToDisplay > 0 && (\n          <>\n            <defs>\n              <linearGradient id=\"beerGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                <stop offset=\"0%\" style={{ stopColor: '#FFD700', stopOpacity: 1 }} />\n                <stop offset=\"100%\" style={{ stopColor: '#FFA500', stopOpacity: 1 }} />\n              </linearGradient>\n            </defs>\n            <rect \n              x=\"7\" \n              y={liquidY} \n              width=\"18\" \n              height={liquidCurrentHeight} \n              fill=\"url(#beerGradient)\" \n              className=\"transition-all duration-500 ease-out\"\n              rx=\"1\"\n            />\n          </>\n        )}\n        \n        {/* Foam with bubbles */}\n        {progressToDisplay > 0 && (\n          <>\n            <ellipse \n              cx=\"16\" \n              cy={foamY} \n              rx=\"10\" \n              ry=\"3\" \n              fill=\"rgba(255, 255, 255, 0.95)\"\n              className=\"transition-all duration-300 ease-out\" \n              style={{ opacity: foamOpacity }}\n            />\n            {/* Bubbles */}\n            <circle cx=\"12\" cy={foamY - 1} r=\"1\" fill=\"rgba(255, 255, 255, 0.8)\" className=\"animate-bubble\" />\n            <circle cx=\"18\" cy={foamY - 0.5} r=\"0.8\" fill=\"rgba(255, 255, 255, 0.8)\" className=\"animate-bubble\" style={{ animationDelay: '0.2s' }} />\n            <circle cx=\"15\" cy={foamY - 1.5} r=\"0.6\" fill=\"rgba(255, 255, 255, 0.8)\" className=\"animate-bubble\" style={{ animationDelay: '0.4s' }} />\n          </>\n        )}\n      </svg>\n      <div className=\"text-xs text-slate-500 mt-1 font-medium\">\n        {progressToDisplay}/{MAX_TASKS_FOR_REWARD}\n      </div>\n      <style>{`\n        @keyframes bubble {\n          0% { transform: translateY(0) scale(1); opacity: 0.8; }\n          50% { transform: translateY(-2px) scale(1.1); opacity: 1; }\n          100% { transform: translateY(0) scale(1); opacity: 0.8; }\n        }\n        .animate-bubble {\n          animation: bubble 2s infinite ease-in-out;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default WeeklyProgressReward;","import React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport { Task, PriorityLevel } from '../types';\nimport { fetchUserTasks, createUserTask, updateUserTask, deleteUserTask } from '../src/services/backendApi';\nimport TodoItem from './TodoItem';\n\nconst sortChecklistTasks = (tasks: Task[], todayDateString: string): Task[] => {\n  return tasks\n    .filter(task => task.dueDate === todayDateString || !task.dueDate) // Show tasks for today or undated tasks\n    .sort((a, b) => {\n      // 1. Incomplete tasks before completed tasks\n      if (a.isCompleted !== b.isCompleted) {\n        return a.isCompleted ? 1 : -1;\n      }\n\n      if (!a.isCompleted) { // Sort active tasks more granularly\n        // 2. Priority: High > Medium > Low > Undefined\n        const priorityOrder: Record<PriorityLevel, number> = { high: 1, medium: 2, low: 3 };\n        const aPriorityVal = a.priority ? priorityOrder[a.priority] : 4;\n        const bPriorityVal = b.priority ? priorityOrder[b.priority] : 4;\n\n        if (aPriorityVal !== bPriorityVal) {\n          return aPriorityVal - bPriorityVal;\n        }\n        \n        // 3. Due Time for today's tasks (earliest first)\n        // Tasks without due time come after tasks with due time\n        const aDueTime = a.dueTime || \"23:59:59\"; // Treat no time as end of day\n        const bDueTime = b.dueTime || \"23:59:59\";\n        if (aDueTime.localeCompare(bDueTime) !== 0) {\n           return aDueTime.localeCompare(bDueTime);\n        }\n      } else { // Sort completed tasks by completion time (newest first)\n        if (a.completedAt && b.completedAt) {\n            return b.completedAt - a.completedAt;\n        } else if (a.completedAt) {\n            return -1; \n        } else if (b.completedAt) {\n            return 1;  \n        }\n      }\n      \n      // 4. Creation Time (newest first as a final tie-breaker)\n      return b.createdAt - a.createdAt;\n    });\n};\n\nconst Checklist: React.FC = () => {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [newTaskText, setNewTaskText] = useState('');\n  const [newPriority, setNewPriority] = useState<PriorityLevel | undefined>(undefined);\n\n  const todayDateString = useMemo(() => new Date().toISOString().split('T')[0], []);\n\n  useEffect(() => {\n    setLoading(true);\n    fetchUserTasks()\n      .then(setTasks)\n      .catch(e => setError(e.message))\n      .finally(() => setLoading(false));\n  }, []);\n\n  const todaysTasks = useMemo(() => {\n    return sortChecklistTasks(tasks, todayDateString);\n  }, [tasks, todayDateString]);\n\n  const addTask = useCallback(async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (newTaskText.trim() === '') return;\n    const newTask: Task = {\n      id: crypto.randomUUID(),\n      text: newTaskText,\n      isCompleted: false,\n      createdAt: Date.now(),\n      dueDate: todayDateString, \n      dueTime: undefined, \n      priority: newPriority,\n    };\n    try {\n      setLoading(true);\n      const created = await createUserTask(newTask);\n      setTasks(prev => sortChecklistTasks([created, ...prev], todayDateString));\n      setNewTaskText('');\n      setNewPriority(undefined);\n    } catch (e: any) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [newTaskText, todayDateString, newPriority]);\n\n  const toggleTask = useCallback(async (id: string) => {\n    const task = tasks.find(t => t.id === id);\n    if (!task) return;\n    try {\n      setLoading(true);\n      const updated = await updateUserTask(id, { isCompleted: !task.isCompleted, completedAt: !task.isCompleted ? Date.now() : undefined });\n      setTasks(prev => sortChecklistTasks(prev.map(t => t.id === id ? updated : t), todayDateString));\n    } catch (e: any) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [tasks, todayDateString]);\n\n  const deleteTaskHandler = useCallback(async (id: string) => {\n    try {\n      setLoading(true);\n      await deleteUserTask(id);\n      setTasks(prev => sortChecklistTasks(prev.filter(t => t.id !== id), todayDateString));\n    } catch (e: any) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [todayDateString]);\n\n  const priorityButtonClass = (level: PriorityLevel, current?: PriorityLevel) => \n    `px-3 py-1.5 text-xs rounded-md focus-ring transition-colors font-medium flex items-center gap-1.5\n     ${current === level \n       ? (level === 'high' ? 'bg-rose-500 text-white' : level === 'medium' ? 'bg-amber-500 text-white' : 'bg-sky-500 text-white')\n       : 'bg-slate-200 hover:bg-slate-300 text-slate-700'\n     }`;\n\n  return (\n    <div className=\"bg-white rounded-lg\">\n      <h1 className=\"text-3xl font-bold text-slate-800 mb-6\">\n        –ß–µ–∫-–ª–∏—Å—Ç (–°–µ–≥–æ–¥–Ω—è)\n      </h1>\n      <form onSubmit={addTask} className=\"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200\">\n        <div className=\"relative mb-3\">\n          <i className=\"fas fa-pencil-alt absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\"></i>\n          <input\n            type=\"text\"\n            value={newTaskText}\n            onChange={(e) => setNewTaskText(e.target.value)}\n            placeholder=\"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ —Å–µ–≥–æ–¥–Ω—è...\"\n            className=\"w-full p-3 pl-10 bg-white border border-slate-300 rounded-lg focus-ring placeholder-slate-400 text-slate-700 transition-colors\"\n            aria-label=\"–¢–µ–∫—Å—Ç –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞\"\n            disabled={loading}\n          />\n        </div>\n        \n        <div className=\"mb-3\">\n          <span className=\"block text-sm font-medium text-slate-600 mb-1.5\">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</span>\n          <div className=\"flex flex-wrap gap-2 items-center\">\n            {(['high', 'medium', 'low'] as PriorityLevel[]).map(level => (\n               <button \n                key={level}\n                type=\"button\" \n                className={priorityButtonClass(level, newPriority)} \n                onClick={() => setNewPriority(level)}\n                aria-pressed={newPriority === level}\n                title = {level === 'high' ? '–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç' : level === 'medium' ? '–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç' : '–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç'}\n                disabled={loading}\n              >\n                 <i className={`fas fa-flag ${\n                    level === 'high' ? (newPriority === 'high' ? 'text-white': 'text-rose-500') :\n                    level === 'medium' ? (newPriority === 'medium' ? 'text-white': 'text-amber-500') :\n                    (newPriority === 'low' ? 'text-white': 'text-sky-500')\n                }`}></i>\n                {level === 'high' ? '–í—ã—Å–æ–∫–∏–π' : level === 'medium' ? '–°—Ä–µ–¥–Ω–∏–π' : '–ù–∏–∑–∫–∏–π'}\n              </button>\n            ))}\n            {newPriority && (\n              <button \n                type=\"button\" \n                className=\"text-slate-400 hover:text-slate-600 p-1 rounded-full focus-ring\" \n                onClick={() => setNewPriority(undefined)}\n                title=\"–û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç\"\n                aria-label=\"–û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç\"\n                disabled={loading}\n              >\n                <i className=\"fas fa-times-circle text-lg\"></i>\n              </button>\n            )}\n          </div>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"w-full sm:w-auto bg-sky-600 hover:bg-sky-500 text-white p-3 rounded-lg transition-colors font-semibold flex items-center justify-center focus-ring\"\n          disabled={loading}\n        >\n          <i className=\"fas fa-plus mr-2\"></i> –î–æ–±–∞–≤–∏—Ç—å\n        </button>\n      </form>\n      {loading && <div className=\"text-center text-slate-500 py-4\"><i className=\"fas fa-spinner fa-spin mr-2\"></i>–ó–∞–≥—Ä—É–∑–∫–∞...</div>}\n      {error && <div className=\"text-center text-rose-600 py-2\">{error}</div>}\n      {todaysTasks.length === 0 && !loading && (\n        <div className=\"text-center py-12 text-slate-500 bg-slate-50 rounded-lg border border-slate-200\">\n            <i className=\"fas fa-calendar-check text-5xl mb-4 text-slate-400\"></i>\n            <p className=\"text-xl\">–ù–∞ —Å–µ–≥–æ–¥–Ω—è –∑–∞–¥–∞—á –Ω–µ—Ç.</p>\n            <p className=\"text-sm\">–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –∏–ª–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä—É–π—Ç–µ –∏—Ö –≤ —Ä–∞–∑–¥–µ–ª–µ \"–ó–∞–¥–∞—á–∏\".</p>\n        </div>\n      )}\n      <ul className=\"space-y-3 max-h-[calc(100vh-24rem)] overflow-y-auto pr-2 custom-scrollbar\"> {/* Adjusted max-h */}\n        {todaysTasks.map(task => (\n          <TodoItem\n            key={task.id}\n            task={task}\n            onToggle={toggleTask}\n            onDelete={deleteTaskHandler}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Checklist;","\nimport { useState, useEffect, useCallback } from 'react';\n\nfunction useLocalStorage<T>(\n  key: string,\n  initialValue: T,\n  reviver?: (parsedValue: any) => T // Optional reviver function\n): [T, (value: T | ((val: T) => T)) => void] {\n  \n  const readValue = useCallback((): T => {\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n    try {\n      const item = window.localStorage.getItem(key);\n      if (item) {\n        const parsed = JSON.parse(item);\n        return reviver ? reviver(parsed) : (parsed as T);\n      }\n      // If initialValue is [], and reviver is sortTasks, sortTasks([]) is [].\n      // If localStorage is empty, initialValue is returned. If initialValue itself\n      // needs processing by reviver, the caller should ensure it's pre-processed or\n      // the hook's logic for initialValue would need to be more complex.\n      // For the current use case (tasks), initialValue is [] and reviver is sortTasks, which is fine.\n      return initialValue; \n    } catch (error) {\n      console.warn(`Error reading localStorage key \"${key}\":`, error);\n      return initialValue;\n    }\n  }, [initialValue, key, reviver]); // Added reviver to dependencies\n\n  const [storedValue, setStoredValue] = useState<T>(readValue);\n\n  const setValue = (value: T | ((val: T) => T)) => {\n    try {\n      // The value passed to setValue should already be in the final, transformed state (e.g., sorted)\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      if (typeof window !== 'undefined') {\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\n      }\n    } catch (error) {\n      console.warn(`Error setting localStorage key \"${key}\":`, error);\n    }\n  };\n\n  useEffect(() => {\n    setStoredValue(readValue());\n     // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [key, readValue]); // readValue dependency includes reviver\n\n  // Listen to storage changes from other tabs\n  useEffect(() => {\n    const handleStorageChange = (event: StorageEvent) => {\n      if (event.key === key) {\n        if (event.newValue !== null) {\n          try {\n              let parsedValue = JSON.parse(event.newValue);\n              if (reviver) {\n                  parsedValue = reviver(parsedValue);\n              }\n              setStoredValue(parsedValue as T);\n          } catch (error) {\n              console.warn(`Error parsing storage change for key \"${key}\":`, error);\n              // Optionally, set to initialValue or a safe default.\n              // For now, mirrors readValue's error handling.\n          }\n        } else {\n          // Handle item removal from other tabs, revert to initialValue\n          // (which might be revived if contractually initialValue also needed it)\n          setStoredValue(initialValue);\n        }\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, [key, initialValue, reviver]); // Added reviver and initialValue to dependencies\n\n\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { ChatMessage, ProposedTask, Task } from '../types';\nimport { createUserTask } from '../src/services/backendApi';\nimport useLocalStorage from '../hooks/useLocalStorage';\n\nconst Assistant: React.FC = () => {\n  const initialBotMessage: ChatMessage = {\n    id: crypto.randomUUID(),\n    sender: 'assistant',\n    text: \"–ü—Ä–∏–≤–µ—Ç! –Ø –≤–∞—à –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫. –û–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ —Ü–µ–ª–∏, –∏ —è –ø–æ–º–æ–≥—É —Ä–∞–∑–±–∏—Ç—å –∏—Ö –Ω–∞ –∑–∞–¥–∞—á–∏ –∏ —Ä–∞—Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å.\",\n    timestamp: Date.now(),\n  };\n\n  const [chatMessages, setChatMessages] = useLocalStorage<ChatMessage[]>('assistantChatMessages', [initialBotMessage]);\n  const [userInput, setUserInput] = useState('');\n  const [isLoadingAI, setIsLoadingAI] = useState(false);\n\n  const chatEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(scrollToBottom, [chatMessages]);\n\n  const handleSendMessage = async (e?: React.FormEvent) => {\n    if (e) e.preventDefault();\n    const trimmedInput = userInput.trim();\n    if (!trimmedInput) return;\n\n    const userMessage: ChatMessage = {\n      id: crypto.randomUUID(),\n      sender: 'user',\n      text: trimmedInput,\n      timestamp: Date.now(),\n    };\n    setChatMessages(prev => [...prev, userMessage]);\n    setUserInput('');\n    setIsLoadingAI(true);\n\n    try {\n      // const { conversationalResponse, proposedTasks } = await getGoalBreakdown(trimmedInput, chatMessages);\n      // –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ: getGoalBreakdown –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω\n      const assistantMessage: ChatMessage = {\n        id: crypto.randomUUID(),\n        sender: 'assistant',\n        text: '–ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –û–∂–∏–¥–∞–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.',\n        timestamp: Date.now(),\n        // proposedTasks: proposedTasks.length > 0 ? proposedTasks : undefined,\n      };\n      setChatMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      console.error(\"Assistant send message error:\", error);\n      const errorMessage: ChatMessage = {\n        id: crypto.randomUUID(),\n        sender: 'assistant',\n        text: \"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–∞—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.\",\n        timestamp: Date.now(),\n      };\n      setChatMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoadingAI(false);\n    }\n  };\n\n  const handleApproveTasks = useCallback(async (messageId: string, tasksToApprove: ProposedTask[]) => {\n    try {\n      const newTasks: Task[] = [];\n      for (const pt of tasksToApprove) {\n        const newTask: Task = {\n          id: crypto.randomUUID(),\n          text: pt.text,\n          isCompleted: false,\n          createdAt: Date.now(),\n          dueDate: pt.suggestedDueDate,\n          dueTime: pt.suggestedDueTime,\n        };\n        const created = await createUserTask(newTask);\n        newTasks.push(created);\n      }\n      setChatMessages((prev: ChatMessage[]) => prev.map((msg: ChatMessage) => \n        msg.id === messageId ? { ...msg, proposedTasks: undefined, tasksApproved: true } : msg\n      ));\n      const confirmationMessage: ChatMessage = {\n        id: crypto.randomUUID(),\n        sender: 'assistant',\n        text: `–û—Ç–ª–∏—á–Ω–æ! ${newTasks.length} –∑–∞–¥–∞—á(–∏) –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –≤–∞—à —Å–ø–∏—Å–æ–∫ –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å.`,\n        timestamp: Date.now(),\n      };\n      setChatMessages((prev: ChatMessage[]) => [...prev, confirmationMessage]);\n    } catch (e: any) {\n      setChatMessages((prev: ChatMessage[]) => [...prev, {\n        id: crypto.randomUUID(),\n        sender: 'assistant',\n        text: `–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∑–∞–¥–∞—á: ${e.message}`,\n        timestamp: Date.now(),\n      }]);\n    }\n  }, [setChatMessages]);\n\n  const handleRejectTasks = useCallback((messageId: string) => {\n     setChatMessages((prev: ChatMessage[]) => prev.map((msg: ChatMessage) => \n      msg.id === messageId ? { ...msg, proposedTasks: undefined, tasksApproved: false } : msg\n    ));\n    const rejectionMessage: ChatMessage = {\n      id: crypto.randomUUID(),\n      sender: 'assistant',\n      text: \"–ü–æ–Ω—è—Ç–Ω–æ. –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞–∑–±–∏—Ç—å —Ü–µ–ª—å –ø–æ-–¥—Ä—É–≥–æ–º—É, –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ.\",\n      timestamp: Date.now(),\n    };\n    setChatMessages((prev: ChatMessage[]) => [...prev, rejectionMessage]);\n  }, [setChatMessages]);\n\n\n  return (\n    <div className=\"flex flex-col h-full bg-white rounded-lg\">\n      <h1 className=\"text-3xl font-bold text-slate-800 mb-6 px-1 pt-1\">\n        <i className=\"fas fa-wand-magic-sparkles mr-3 text-sky-600\"></i>–ò–ò-–ü–æ–º–æ—â–Ω–∏–∫\n      </h1>\n      \n      <div className=\"flex-grow overflow-y-auto mb-4 space-y-4 p-4 border border-slate-200 rounded-lg bg-slate-50 custom-scrollbar\">\n        {chatMessages.map((msg: ChatMessage) => (\n          <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>\n            <div className={`max-w-[75%] p-3 rounded-xl shadow-sm ${\n                msg.sender === 'user' \n                ? 'bg-sky-500 text-white rounded-br-none' \n                : 'bg-white text-slate-700 border border-slate-200 rounded-bl-none'\n              }`}\n            >\n              <p className=\"whitespace-pre-wrap text-sm\">{msg.text}</p>\n              {msg.sender === 'assistant' && msg.proposedTasks && !msg.tasksApproved && (\n                <div className=\"mt-3 pt-3 border-t border-slate-200\">\n                  <h4 className=\"text-xs font-semibold text-slate-600 mb-1.5\">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:</h4>\n                  <ul className=\"space-y-1 text-xs list-disc list-inside mb-2\">\n                    {msg.proposedTasks && msg.proposedTasks.map((pt: ProposedTask) => (\n                      <li key={pt.id}>\n                        {pt.text}\n                        {(pt.suggestedDueDate || pt.suggestedDueTime) && (\n                          <span className=\"text-slate-500 text-[11px] ml-1\">\n                            ({pt.suggestedDueDate}{pt.suggestedDueDate && pt.suggestedDueTime ? ', ' : ''}{pt.suggestedDueTime})\n                          </span>\n                        )}\n                      </li>\n                    ))}\n                  </ul>\n                  <div className=\"flex gap-2 mt-2\">\n                    <button\n                      onClick={() => handleApproveTasks(msg.id, msg.proposedTasks || [])}\n                      className=\"text-xs bg-emerald-500 hover:bg-emerald-600 text-white px-2.5 py-1 rounded-md transition-colors focus-ring\"\n                    >\n                      <i className=\"fas fa-check mr-1\"></i> –£—Ç–≤–µ—Ä–¥–∏—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å\n                    </button>\n                    <button\n                      onClick={() => handleRejectTasks(msg.id)}\n                      className=\"text-xs bg-slate-200 hover:bg-slate-300 text-slate-700 px-2.5 py-1 rounded-md transition-colors focus-ring\"\n                    >\n                      <i className=\"fas fa-times mr-1\"></i> –û—Ç–∫–ª–æ–Ω–∏—Ç—å\n                    </button>\n                  </div>\n                </div>\n              )}\n               {msg.sender === 'assistant' && msg.tasksApproved === true && (\n                <p className=\"text-xs text-emerald-600 mt-2 pt-2 border-t border-emerald-200\"><i className=\"fas fa-check-circle mr-1\"></i>–ó–∞–¥–∞—á–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ø–ª–∞–Ω.</p>\n              )}\n              {msg.sender === 'assistant' && msg.tasksApproved === false && (\n                <p className=\"text-xs text-slate-500 mt-2 pt-2 border-t border-slate-200\"><i className=\"fas fa-info-circle mr-1\"></i>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã.</p>\n              )}\n            </div>\n          </div>\n        ))}\n        <div ref={chatEndRef} />\n      </div>\n\n      <form onSubmit={handleSendMessage} className=\"p-1 border-t border-slate-200\">\n        <div className=\"flex items-center gap-3 bg-slate-100 border border-slate-200 rounded-lg p-1.5\">\n          <input\n            type=\"text\"\n            value={userInput}\n            onChange={(e) => setUserInput(e.target.value)}\n            placeholder={isLoadingAI ? \"–ü–æ–º–æ—â–Ω–∏–∫ –¥—É–º–∞–µ—Ç...\" : \"–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Ü–µ–ª—å –∏–ª–∏ –∑–∞–¥–∞—á—É...\"}\n            className=\"flex-grow p-2.5 bg-white border border-slate-300 rounded-lg focus-ring placeholder-slate-400 text-slate-700 transition-colors\"\n            aria-label=\"–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–∞\"\n            disabled={isLoadingAI}\n          />\n          <button\n            type=\"submit\"\n            disabled={isLoadingAI || userInput.trim() === ''}\n            className=\"bg-sky-600 hover:bg-sky-500 text-white p-3 rounded-lg transition-colors disabled:opacity-60 disabled:cursor-not-allowed focus-ring\"\n            aria-label=\"–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ\"\n          >\n            {isLoadingAI ? \n                <i className=\"fas fa-spinner fa-spin text-lg\"></i> : \n                <i className=\"fas fa-paper-plane text-lg\"></i>\n            }\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Assistant;","export interface Task {\n  id: string;\n  text: string;\n  isCompleted: boolean;\n  createdAt: number;\n  completedAt?: number; // Timestamp when the task was completed\n  dueDate?: string; // YYYY-MM-DD format\n  dueTime?: string; // HH:MM format\n  priority?: PriorityLevel; \n}\n\nexport type PriorityLevel = 'high' | 'medium' | 'low';\n\nexport enum PomodoroPhase {\n  WORK = 'WORK',\n  SHORT_BREAK = 'SHORT_BREAK',\n  LONG_BREAK = 'LONG_BREAK',\n}\n\nexport interface PomodoroSettings {\n  workDuration: number; // minutes\n  shortBreakDuration: number; // minutes\n  longBreakDuration: number; // minutes\n  longBreakInterval: number; // number of work sessions before a long break\n}\n\n// Google Calendar Event (simplified)\nexport interface GoogleCalendarEvent {\n  id: string;\n  summary: string; // Title of the event\n  start: {\n    dateTime?: string; // For timed events\n    date?: string;     // For all-day events\n  };\n  end: {\n    dateTime?: string;\n    date?: string;\n  };\n  htmlLink: string; // Link to the event in Google Calendar\n  isGoogleEvent?: boolean; // Flag to differentiate from local tasks\n}\n\nexport interface GoogleAuthState {\n  isSignedIn: boolean;\n  user: any | null; // Can be replaced with a more specific user profile type\n  error: Error | null;\n  isLoading: boolean;\n}\n\nexport type ActiveView = 'calendar' | 'tasks' | 'assistant' | 'pomodoro' | 'checklist' | 'help';\n\nexport interface ChatMessage {\n  id: string;\n  sender: 'user' | 'assistant';\n  text: string;\n  timestamp: number;\n  proposedTasks?: ProposedTask[]; // Optional: AI might propose tasks\n  tasksApproved?: boolean; // Optional: To indicate if tasks from this message were approved\n}\n\nexport interface ProposedTask {\n  id: string; // Temporary ID for UI\n  text: string;\n  suggestedDueDate?: string; // YYYY-MM-DD\n  suggestedDueTime?: string; // HH:MM\n  // suggestedPriority?: PriorityLevel; // Potential future enhancement\n}\n\n// Expected structure from Gemini for task breakdown\nexport interface GeminiTaskBreakdownResponse {\n  conversationResponse: string;\n  potentialTasks: Array<{\n    taskDescription: string;\n    suggestedDate?: string; // \"YYYY-MM-DD\" or \"—Å–µ–≥–æ–¥–Ω—è\", \"–∑–∞–≤—Ç—Ä–∞\"\n    suggestedTime?: string; // \"HH:MM\" or \"—É—Ç—Ä–æ\", \"–¥–µ–Ω—å\", \"–≤–µ—á–µ—Ä\"\n    // suggestedPriority?: PriorityLevel // Potential future enhancement\n  }>;\n}\n\nexport interface WeeklyRewardState {\n  weekId: string; // e.g., \"2023-W34\"\n  claimed: boolean;\n}\n\nexport type ThemeMode = 'light' | 'dark' | 'system';\n\nexport type ColorScheme = {\n  name: string;\n  primary: string;\n  secondary: string;\n  accent: string;\n  background: string;\n  text: string;\n};\n\nexport type InterfaceSettings = {\n  fontSize: 'small' | 'medium' | 'large';\n  spacing: 'compact' | 'comfortable' | 'spacious';\n  borderRadius: 'none' | 'small' | 'medium' | 'large';\n  animations: boolean;\n  reducedMotion: boolean;\n};\n\nexport type ThemeSettings = {\n  mode: ThemeMode;\n  colorScheme: ColorScheme;\n  interface: InterfaceSettings;\n};","import React, { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\n\ninterface ModalProps {\n  title: string;\n  onClose: () => void;\n  children: React.ReactNode;\n}\n\nconst Modal: React.FC<ModalProps> = ({ title, onClose, children }) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleEsc = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleEsc);\n    modalRef.current?.focus();\n\n    return () => {\n      document.removeEventListener('keydown', handleEsc);\n    };\n  }, [onClose]);\n\n  let portalRoot = document.getElementById('modal-portal-root');\n  if (!portalRoot) {\n    portalRoot = document.createElement('div');\n    portalRoot.setAttribute('id', 'modal-portal-root');\n    document.body.appendChild(portalRoot);\n  }\n  \n  return ReactDOM.createPortal(\n    <div \n      className=\"fixed inset-0 z-[100] bg-slate-900/30 backdrop-blur-sm flex items-center justify-center p-4 transition-opacity duration-300 ease-in-out\"\n      onClick={onClose} \n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"modal-title\"\n    >\n      <div\n        ref={modalRef}\n        className=\"bg-white shadow-xl rounded-lg p-6 w-full max-w-md transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modalFadeInScaleUp\"\n        onClick={(e) => e.stopPropagation()} \n        tabIndex={-1}\n      >\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 id=\"modal-title\" className=\"text-xl font-semibold text-slate-700\">{title}</h2>\n          <button \n            onClick={onClose} \n            className=\"text-slate-400 hover:text-sky-600 transition-colors p-1 rounded-full focus-ring -mr-1 -mt-1\"\n            aria-label=\"–ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\"\n          >\n            <i className=\"fas fa-times text-2xl\"></i>\n          </button>\n        </div>\n        <div>{children}</div>\n      </div>\n      <style>{`\n        @keyframes modalFadeInScaleUp {\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n        .animate-modalFadeInScaleUp {\n          animation: modalFadeInScaleUp 0.2s ease-out forwards;\n        }\n      `}</style>\n    </div>,\n    portalRoot\n  );\n};\n\nexport default Modal;","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { PomodoroPhase, PomodoroSettings } from '../types';\nimport { DEFAULT_POMODORO_SETTINGS } from '../constants';\nimport useLocalStorage from '../hooks/useLocalStorage';\nimport Modal from './Modal'; \n\nconst PomodoroTimer: React.FC = () => {\n  const [settings, setSettings] = useLocalStorage<PomodoroSettings>('pomodoroSettings', DEFAULT_POMODORO_SETTINGS);\n  const [phase, setPhase] = useState<PomodoroPhase>(PomodoroPhase.WORK);\n  const [timeLeft, setTimeLeft] = useState(settings.workDuration * 60);\n  const [isRunning, setIsRunning] = useState(false);\n  const [cyclesCompleted, setCyclesCompleted] = useState(0);\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n\n  const timerId = useRef<ReturnType<typeof setInterval> | null>(null);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      audioRef.current = new Audio('https://actions.google.com/sounds/v1/alarms/digital_watch_alarm_long.ogg');\n      audioRef.current.volume = 0.3;\n    }\n  }, []);\n\n  const updateTimerForPhase = useCallback((currentPhase: PomodoroPhase, currentSettings: PomodoroSettings) => {\n    let newTime;\n    switch (currentPhase) {\n      case PomodoroPhase.WORK:\n        newTime = currentSettings.workDuration * 60;\n        break;\n      case PomodoroPhase.SHORT_BREAK:\n        newTime = currentSettings.shortBreakDuration * 60;\n        break;\n      case PomodoroPhase.LONG_BREAK:\n        newTime = currentSettings.longBreakDuration * 60;\n        break;\n      default:\n        newTime = currentSettings.workDuration * 60;\n    }\n    setTimeLeft(newTime);\n  }, []);\n  \n  useEffect(() => {\n    if (timerId.current) clearInterval(timerId.current);\n    setIsRunning(false);\n    updateTimerForPhase(phase, settings);\n  }, [phase, settings, updateTimerForPhase]);\n\n\n  useEffect(() => {\n    if (isRunning && timeLeft > 0) {\n      timerId.current = setInterval(() => {\n        setTimeLeft(prev => prev - 1);\n      }, 1000);\n    } else if (timeLeft === 0 && isRunning) { \n      if (timerId.current) clearInterval(timerId.current);\n      audioRef.current?.play().catch(e => console.warn(\"Audio play failed:\", e));\n      \n      let nextPhase = PomodoroPhase.WORK;\n      if (phase === PomodoroPhase.WORK) {\n        const newCyclesCompleted = cyclesCompleted + 1;\n        setCyclesCompleted(newCyclesCompleted);\n        if (newCyclesCompleted > 0 && newCyclesCompleted % settings.longBreakInterval === 0) {\n          nextPhase = PomodoroPhase.LONG_BREAK;\n        } else {\n          nextPhase = PomodoroPhase.SHORT_BREAK;\n        }\n      } else { \n        nextPhase = PomodoroPhase.WORK;\n      }\n      setPhase(nextPhase);\n      setIsRunning(false); \n    }\n    return () => {\n      if (timerId.current) clearInterval(timerId.current);\n    };\n  }, [isRunning, timeLeft, phase, settings, cyclesCompleted]);\n\n  const toggleTimer = () => {\n    setIsRunning(!isRunning);\n  };\n\n  const resetCurrentPhaseTimer = () => {\n    if (timerId.current) clearInterval(timerId.current);\n    setIsRunning(false);\n    updateTimerForPhase(phase, settings);\n  };\n\n  const handlePhaseChange = (newPhase: PomodoroPhase) => {\n    setPhase(newPhase);\n  };\n\n  const formatTime = (seconds: number) => {\n    const minutes = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const phaseConfig = {\n    [PomodoroPhase.WORK]: { name: '–†–∞–±–æ—Ç–∞', baseColor: 'bg-sky-600', textColor: 'text-sky-700', progressColor: 'stroke-sky-500', ringColor: 'stroke-sky-200' },\n    [PomodoroPhase.SHORT_BREAK]: { name: '–ü–µ—Ä–µ—Ä—ã–≤', baseColor: 'bg-emerald-600', textColor: 'text-emerald-700', progressColor: 'stroke-emerald-500', ringColor: 'stroke-emerald-200' },\n    [PomodoroPhase.LONG_BREAK]: { name: '–û—Ç–¥—ã—Ö', baseColor: 'bg-indigo-600', textColor: 'text-indigo-700', progressColor: 'stroke-indigo-500', ringColor: 'stroke-indigo-200' },\n  };\n\n  const currentPhaseConfig = phaseConfig[phase];\n  const initialDuration = \n    phase === PomodoroPhase.WORK ? settings.workDuration * 60 :\n    phase === PomodoroPhase.SHORT_BREAK ? settings.shortBreakDuration * 60 :\n    settings.longBreakDuration * 60;\n  \n  const progressPercentage = initialDuration > 0 ? ((initialDuration - timeLeft) / initialDuration) * 100 : 0;\n  \n  const radius = 80;\n  const circumference = 2 * Math.PI * radius;\n  const strokeDashoffset = circumference - (progressPercentage / 100) * circumference;\n\n  const handleSettingsSave = (newSettings: PomodoroSettings) => {\n    setSettings(newSettings);\n    setIsSettingsModalOpen(false);\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg p-6 flex flex-col items-center shadow-sm border border-slate-200\">\n      <div className=\"w-full flex justify-between items-center mb-3\">\n        <h1 className=\"text-3xl font-bold text-slate-800\">Pomodoro</h1>\n        <button\n          onClick={() => setIsSettingsModalOpen(true)}\n          className=\"text-slate-500 hover:text-sky-600 transition-colors focus-ring rounded-md p-1\"\n          aria-label=\"–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–µ—Ä–∞ –ü–æ–º–∏–¥–æ—Ä–æ\"\n        >\n          <i className=\"fas fa-cog text-xl\"></i>\n        </button>\n      </div>\n      <p className={`text-center text-lg ${currentPhaseConfig.textColor} mb-6 font-medium`}>{currentPhaseConfig.name}</p>\n      \n      <div className=\"relative w-52 h-52 mb-6\">\n        <svg className=\"absolute inset-0 w-full h-full\" viewBox=\"0 0 200 200\">\n          <circle\n            className={`${currentPhaseConfig.ringColor} opacity-70`}\n            strokeWidth=\"12\"\n            stroke=\"currentColor\"\n            fill=\"transparent\"\n            r={radius}\n            cx=\"100\"\n            cy=\"100\"\n          />\n          <circle\n            className={`${currentPhaseConfig.progressColor} transition-all duration-500 ease-linear`}\n            strokeWidth=\"12\"\n            strokeDasharray={circumference}\n            strokeDashoffset={strokeDashoffset}\n            strokeLinecap=\"round\"\n            stroke=\"currentColor\"\n            fill=\"transparent\"\n            r={radius}\n            cx=\"100\"\n            cy=\"100\"\n            transform=\"rotate(-90 100 100)\"\n          />\n        </svg>\n        <div className={`absolute inset-0 flex items-center justify-center text-5xl font-mono font-bold ${currentPhaseConfig.textColor} tabular-nums`}>\n          {formatTime(timeLeft)}\n        </div>\n      </div>\n\n      <div className=\"flex space-x-4 mb-6\">\n        <button\n          onClick={toggleTimer}\n          className={`px-8 py-3 ${currentPhaseConfig.baseColor} hover:opacity-80 text-white font-semibold rounded-lg transition-colors w-36 text-lg flex items-center justify-center focus-ring`}\n          aria-label={isRunning ? \"–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä\" : \"–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä\"}\n        >\n          {isRunning ? <><i className=\"fas fa-pause mr-2\"></i>–ü–∞—É–∑–∞</> : <><i className=\"fas fa-play mr-2\"></i>–°—Ç–∞—Ä—Ç</>}\n        </button>\n        <button\n          onClick={resetCurrentPhaseTimer}\n          className=\"px-8 py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 font-semibold rounded-lg transition-colors w-36 text-lg flex items-center justify-center focus-ring\"\n          aria-label=\"–°–±—Ä–æ—Å–∏—Ç—å —Ç–∞–π–º–µ—Ä\"\n        >\n          <i className=\"fas fa-rotate-right mr-2\"></i>–°–±—Ä–æ—Å\n        </button>\n      </div>\n      <div className=\"flex flex-wrap justify-center gap-2 text-sm\">\n          {(Object.keys(PomodoroPhase) as Array<keyof typeof PomodoroPhase>).map((pKey) => (\n            <button\n              key={pKey}\n              onClick={() => handlePhaseChange(PomodoroPhase[pKey])}\n              className={`px-4 py-2 rounded-md transition-colors duration-200 focus-ring\n                ${phase === PomodoroPhase[pKey] \n                  ? `${phaseConfig[PomodoroPhase[pKey]].baseColor} text-white font-bold ring-2 ring-offset-1 ${phaseConfig[PomodoroPhase[pKey]].ringColor} shadow-lg` \n                  : 'bg-slate-100 hover:bg-slate-200 text-slate-600 hover:text-slate-800 border border-slate-200'\n                }`}\n              aria-label={`–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ñ–∞–∑—É: ${phaseConfig[PomodoroPhase[pKey]].name}`}\n              aria-pressed={phase === PomodoroPhase[pKey]}\n            >\n              {phaseConfig[PomodoroPhase[pKey]].name}\n            </button>\n          ))}\n      </div>\n      <p className=\"text-center text-xs text-slate-500 mt-5\">–ó–∞–≤–µ—Ä—à–µ–Ω–æ —Ü–∏–∫–ª–æ–≤ —Ä–∞–±–æ—Ç—ã: {cyclesCompleted}</p>\n\n      {isSettingsModalOpen && (\n        <Modal title=\"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ü–æ–º–∏–¥–æ—Ä–æ\" onClose={() => setIsSettingsModalOpen(false)}>\n          <PomodoroSettingsForm currentSettings={settings} onSave={handleSettingsSave} />\n        </Modal>\n      )}\n    </div>\n  );\n};\n\ninterface PomodoroSettingsFormProps {\n  currentSettings: PomodoroSettings;\n  onSave: (settings: PomodoroSettings) => void;\n}\n\nconst PomodoroSettingsForm: React.FC<PomodoroSettingsFormProps> = ({ currentSettings, onSave }) => {\n  const [formSettings, setFormSettings] = useState<PomodoroSettings>(currentSettings);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormSettings(prev => ({ ...prev, [name]: parseInt(value, 10) || 0 }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(formSettings);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4 text-slate-700\">\n      <div>\n        <label htmlFor=\"workDuration\" className=\"block text-sm font-medium mb-1\">–†–∞–±–æ—Ç–∞ (–º–∏–Ω—É—Ç—ã):</label>\n        <input type=\"number\" id=\"workDuration\" name=\"workDuration\" value={formSettings.workDuration} onChange={handleChange} min=\"1\" className=\"w-full p-2 bg-slate-50 border border-slate-300 rounded-md focus-ring text-slate-700\" />\n      </div>\n      <div>\n        <label htmlFor=\"shortBreakDuration\" className=\"block text-sm font-medium mb-1\">–ö–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω—É—Ç—ã):</label>\n        <input type=\"number\" id=\"shortBreakDuration\" name=\"shortBreakDuration\" value={formSettings.shortBreakDuration} onChange={handleChange} min=\"1\" className=\"w-full p-2 bg-slate-50 border border-slate-300 rounded-md focus-ring text-slate-700\" />\n      </div>\n      <div>\n        <label htmlFor=\"longBreakDuration\" className=\"block text-sm font-medium mb-1\">–î–ª–∏–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω—É—Ç—ã):</label>\n        <input type=\"number\" id=\"longBreakDuration\" name=\"longBreakDuration\" value={formSettings.longBreakDuration} onChange={handleChange} min=\"1\" className=\"w-full p-2 bg-slate-50 border border-slate-300 rounded-md focus-ring text-slate-700\" />\n      </div>\n      <div>\n        <label htmlFor=\"longBreakInterval\" className=\"block text-sm font-medium mb-1\">–¶–∏–∫–ª–æ–≤ –¥–æ –¥–ª–∏–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ—Ä—ã–≤–∞:</label>\n        <input type=\"number\" id=\"longBreakInterval\" name=\"longBreakInterval\" value={formSettings.longBreakInterval} onChange={handleChange} min=\"1\" className=\"w-full p-2 bg-slate-50 border border-slate-300 rounded-md focus-ring text-slate-700\" />\n      </div>\n      <button type=\"submit\" className=\"w-full bg-sky-600 hover:bg-sky-500 text-white font-semibold py-2.5 px-4 rounded-lg transition-colors focus-ring\">\n        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ù–∞—Å—Ç—Ä–æ–π–∫–∏\n      </button>\n    </form>\n  );\n};\n\nexport default PomodoroTimer;","import React from 'react';\n\nconst HelpSection: React.FC = () => {\n  return (\n    <div className=\"bg-white rounded-lg p-6 sm:p-8 space-y-8\">\n      <header>\n        <h1 className=\"text-3xl font-bold text-slate-800 mb-2 flex items-center\">\n          <i className=\"fas fa-circle-question mr-3 text-sky-600\"></i>–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ADHD Workflow\n        </h1>\n        <p className=\"text-slate-600\">\n          –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ADHD Workflow –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –≤–∞—à–µ–π –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏.\n        </p>\n      </header>\n\n      <section className=\"space-y-4\">\n        <h2 className=\"text-2xl font-semibold text-slate-700 border-b pb-2\">–û—Å–Ω–æ–≤–Ω—ã–µ –†–∞–∑–¥–µ–ª—ã –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>\n        \n        <div>\n          <h3 className=\"text-xl font-medium text-slate-700 mb-1\"><i className=\"fas fa-calendar-days mr-2 text-sky-500\"></i>–ö–∞–ª–µ–Ω–¥–∞—Ä—å</h3>\n          <p className=\"text-slate-600 ml-7\">\n            –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –≤–∞—à–∏ –∑–∞–¥–∞—á–∏ –∏ —Å–æ–±—ã—Ç–∏—è –∏–∑ Google Calendar –Ω–∞–≥–ª—è–¥–Ω–æ. –ö–∞–ª–µ–Ω–¥–∞—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–≤–∞ –º–µ—Å—è—Ü–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –í—ã –º–æ–∂–µ—Ç–µ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –¥–µ–Ω—å, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π –∏ –∑–∞–¥–∞—á. –†–∞–∑–¥–µ–ª \"–°–µ–≥–æ–¥–Ω—è\" –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å –¥–µ–ª–∞. –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Google Calendar, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É \"–ü–æ–¥–∫–ª—é—á–∏—Ç—å Google Calendar\" –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å.\n          </p>\n        </div>\n\n        <div>\n          <h3 className=\"text-xl font-medium text-slate-700 mb-1\"><i className=\"fas fa-list-check mr-2 text-sky-500\"></i>–ó–∞–¥–∞—á–∏ (–°–ø–∏—Å–æ–∫ –¥–µ–ª)</h3>\n          <p className=\"text-slate-600 ml-7\">\n            –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –≤–∞—à–∏ –∑–∞–¥–∞—á–∏. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Å—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–∞—Ç—É –∏ –≤—Ä–µ–º—è), –∞ —Ç–∞–∫–∂–µ **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–í—ã—Å–æ–∫–∏–π, –°—Ä–µ–¥–Ω–∏–π, –ù–∏–∑–∫–∏–π)**, —á—Ç–æ–±—ã –ª—É—á—à–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –¥–µ–Ω—å. –ó–∞–¥–∞—á–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ —Å—Ç–∞—Ç—É—Å—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É, —Å—Ä–æ–∫—É –∏ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è. –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤—Å–µ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–≤–µ—Ä—Ö—É —Å–ø–∏—Å–∫–∞. –ó–∞–¥–∞—á–∏ —Å –ø—Ä–æ—à–µ–¥—à–∏–º —Å—Ä–æ–∫–æ–º –≤—ã–¥–µ–ª—è—é—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç–º–µ—á–∞–µ—Ç—Å—è –∏–∫–æ–Ω–∫–æ–π-—Ñ–ª–∞–∂–∫–æ–º.\n          </p>\n        </div>\n\n        <div>\n          <h3 className=\"text-xl font-medium text-slate-700 mb-1\"><i className=\"fas fa-square-check mr-2 text-sky-500\"></i>–ß–µ–∫-–ª–∏—Å—Ç (–°–µ–≥–æ–¥–Ω—è)</h3>\n          <p className=\"text-slate-600 ml-7\">\n            –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞ –∑–∞–¥–∞—á–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã –∏–º–µ–Ω–Ω–æ —Å–µ–≥–æ–¥–Ω—è. –°—é–¥–∞ –ø–æ–ø–∞–¥–∞—é—Ç –∑–∞–¥–∞—á–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –¥–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å, –∞ —Ç–∞–∫–∂–µ –∑–∞–¥–∞—á–∏ –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∞—Ç—ã. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** –¥–ª—è –∑–∞–¥–∞—á –Ω–∞ —Å–µ–≥–æ–¥–Ω—è. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ —Å–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞—Ö –¥–Ω—è.\n          </p>\n        </div>\n\n        <div>\n          <h3 className=\"text-xl font-medium text-slate-700 mb-1\"><i className=\"fas fa-clock mr-2 text-sky-500\"></i>Pomodoro –¢–∞–π–º–µ—Ä</h3>\n          <p className=\"text-slate-600 ml-7\">\n            –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫—É Pomodoro –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏. –¢–∞–π–º–µ—Ä –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ñ–∞–∑—ã —Ä–∞–±–æ—Ç—ã, –∫–æ—Ä–æ—Ç–∫–∏—Ö –∏ –¥–ª–∏–Ω–Ω—ã—Ö –ø–µ—Ä–µ—Ä—ã–≤–æ–≤. –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–ø–æ–≤–µ—Å—Ç—è—Ç –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ —Ñ–∞–∑—ã. –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫—Ä—É–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏.\n          </p>\n        </div>\n\n        <div>\n          <h3 className=\"text-xl font-medium text-slate-700 mb-1\"><i className=\"fas fa-wand-magic-sparkles mr-2 text-sky-500\"></i>–ò–ò-–ü–æ–º–æ—â–Ω–∏–∫</h3>\n          <p className=\"text-slate-600 ml-7\">\n            –í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –û–ø–∏—à–∏—Ç–µ –µ–º—É —Å–≤–æ—é —Ü–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, \"–Ω–∞–ø–∏—Å–∞—Ç—å –∫—É—Ä—Å–æ–≤—É—é —Ä–∞–±–æ—Ç—É\" –∏–ª–∏ \"–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–æ–µ–∑–¥–∫—É\"), –∏ –æ–Ω –ø–æ–º–æ–∂–µ—Ç —Ä–∞–∑–±–∏—Ç—å –µ–µ –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –ø–æ–¥–∑–∞–¥–∞—á–∏, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –¥–ª—è –Ω–∏—Ö —Å—Ä–æ–∫–∏ –∏ –≤—Ä–µ–º—è. –í—ã —Å–º–æ–∂–µ—Ç–µ —É—Ç–≤–µ—Ä–¥–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏, –∏ –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤—è—Ç—Å—è –≤ –≤–∞—à –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–µ–ª.\n          </p>\n        </div>\n        \n        <div>\n          <h3 className=\"text-xl font-medium text-slate-700 mb-1\"><i className=\"fas fa-lightbulb mr-2 text-yellow-500\"></i>–°–æ–≤–µ—Ç –ø–æ –§–æ–∫—É—Å–∏—Ä–æ–≤–∫–µ</h3>\n          <p className=\"text-slate-600 ml-7\">\n            –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö (–ó–∞–¥–∞—á–∏, –ß–µ–∫-–ª–∏—Å—Ç, Pomodoro). –≠—Ç–æ –∫–æ—Ä–æ—Ç–∫–∏–π, –¥–µ–π—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–æ–≤–µ—Ç –æ—Ç –ò–ò, –ø—Ä–∏–∑–≤–∞–Ω–Ω—ã–π –ø–æ–º–æ—á—å –≤–∞–º –ª—É—á—à–µ —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å –æ—Ç–≤–ª–µ—á–µ–Ω–∏—è–º–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–º–∏ –¥–ª—è –°–î–í–ì. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–π —Å–æ–≤–µ—Ç –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.\n          </p>\n        </div>\n\n         <div>\n          <h3 className=\"text-xl font-medium text-slate-700 mb-1\"><i className=\"fas fa-bell mr-2 text-amber-500\"></i>–ü–∞–Ω–µ–ª—å –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π</h3>\n          <p className=\"text-slate-600 ml-7\">\n            –≠—Ç–∞ –ø–∞–Ω–µ–ª—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–≤–µ—Ä—Ö—É —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏–ª–∏ –∑–∞–¥–∞—á–∏, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –∏–ª–∏ –∑–∞–≤—Ç—Ä–∞. –û–Ω–∞ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–µ —É–ø—É—Å—Ç–∏—Ç—å –∏–∑ –≤–∏–¥—É –≤–∞–∂–Ω—ã–µ –¥–µ–¥–ª–∞–π–Ω—ã.\n          </p>\n        </div>\n      </section>\n\n      <section className=\"space-y-4\">\n        <h2 className=\"text-2xl font-semibold text-slate-700 border-b pb-2\">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>\n        <ul className=\"list-disc list-outside ml-5 space-y-2 text-slate-600\">\n          <li>\n            <strong>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç API –ö–ª—é—á–µ–π:</strong> –î–ª—è —Ä–∞–±–æ—Ç—ã –ò–ò-—Ñ—É–Ω–∫—Ü–∏–π (–°–æ–≤–µ—Ç—ã –ø–æ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–µ, –ò–ò-–ü–æ–º–æ—â–Ω–∏–∫) –Ω–µ–æ–±—Ö–æ–¥–∏–º API –∫–ª—é—á –æ—Ç Google Gemini. –≠—Ç–æ—Ç –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `API_KEY` –≤ —Å—Ä–µ–¥–µ, –≥–¥–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Google Calendar, –≤ —Ñ–∞–π–ª–µ `constants.ts` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–∫–∞–∑–∞–Ω—ã `GOOGLE_CLIENT_ID` –∏ `GOOGLE_API_KEY`. –ï—Å–ª–∏ –∫–ª—é—á–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã.\n          </li>\n          <li>\n            <strong>–õ–æ–∫–∞–ª—å–Ω–æ–µ –•—Ä–∞–Ω–∏–ª–∏—â–µ:</strong> –í—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ (–∑–∞–¥–∞—á–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Pomodoro, –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ —Å –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–æ–º) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ (`localStorage`). –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –±—Ä–∞—É–∑–µ—Ä—É –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ï—Å–ª–∏ –≤—ã –æ—á–∏—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–∞, –ø–µ—Ä–µ–π–¥–µ—Ç–µ –≤ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –Ω–∞ –¥—Ä—É–≥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–æ–±—ã—Ç–∏–π Google Calendar, –∫–æ—Ç–æ—Ä—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ). –û–±–ª–∞—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∫—Ä–æ–º–µ Google Calendar) –Ω–µ—Ç.\n          </li>\n          <li>\n            <strong>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:</strong> –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ò–ò-—Ñ—É–Ω–∫—Ü–∏–π –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å Google Calendar –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–∫—Ç–∏–≤–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ. –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Å–ø–∏—Å–æ–∫ –¥–µ–ª –∏ Pomodoro —Ç–∞–π–º–µ—Ä, –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ñ—Ñ–ª–∞–π–Ω –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\n          </li>\n          <li>\n            <strong>–¢–æ—á–Ω–æ—Å—Ç—å –ò–ò:</strong> –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–≤–µ—Ç–æ–≤ —Å—Ç–∞—Ä–∞—é—Ç—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—É—é –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –û–¥–Ω–∞–∫–æ, –∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ —Å–æ–≤–µ—Ç—ã —Å–ª–µ–¥—É–µ—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–æ–º –∑–∞–¥–∞—á–∏ –ø–µ—Ä–µ–¥ –∏—Ö —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –∏—Ö –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã.\n          </li>\n        </ul>\n      </section>\n\n      <section className=\"space-y-4\">\n        <h2 className=\"text-2xl font-semibold text-slate-700 border-b pb-2\">–°–æ–≤–µ—Ç—ã –ø–æ –ü—Ä–æ–º—Ç–∞–º –¥–ª—è –ò–ò-–ü–æ–º–æ—â–Ω–∏–∫–∞</h2>\n        <p className=\"text-slate-600\">–ß—Ç–æ–±—ã –ò–ò-–ü–æ–º–æ—â–Ω–∏–∫ –ª—É—á—à–µ –ø–æ–Ω—è–ª –≤–∞—Å –∏ –ø—Ä–µ–¥–ª–æ–∂–∏–ª –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –ø–ª–∞–Ω, —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º:</p>\n        \n        <h3 className=\"text-lg font-medium text-slate-700\">–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:</h3>\n        <ul className=\"list-disc list-outside ml-5 space-y-1 text-slate-600\">\n          <li><strong>–ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã:</strong> –í–º–µ—Å—Ç–æ \"–•–æ—á—É –±—ã—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–º\" —É–∫–∞–∂–∏—Ç–µ, –≤ –∫–∞–∫–æ–π –æ–±–ª–∞—Å—Ç–∏: \"–•–æ—á—É –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç—á–µ—Ç –ø–æ —Ä–∞–±–æ—Ç–µ –¥–æ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏\".</li>\n          <li><strong>–£–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç:</strong> –ï—Å–ª–∏ —Ü–µ–ª—å —Å–≤—è–∑–∞–Ω–∞ —Å —É—á–µ–±–æ–π, —Ä–∞–±–æ—Ç–æ–π, –ª–∏—á–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ ‚Äì —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ò–ò –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —à–∞–≥–∏.</li>\n          <li><strong>–û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å ‚Äì –æ–¥–Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å:</strong> –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä—É–ø–Ω—ã—Ö —Ü–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, \"–ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é\" –∏ \"–Ω–∞—á–∞—Ç—å —É—á–∏—Ç—å –Ω–æ–≤—ã–π —è–∑—ã–∫\"), –ª—É—á—à–µ —Ä–∞–∑–±–∏—Ç—å –∏—Ö –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ø–æ–º–æ—â–Ω–∏–∫—É –¥–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–π.</li>\n          <li><strong>–£–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å—Ä–æ–∫–∏ –∏ –æ–±—ä–µ–º—ã (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã):</strong> \"–ú–Ω–µ –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–æ–∫–ª–∞–¥ –Ω–∞ 15 –º–∏–Ω—É—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤—Ç–æ—Ä–Ω–∏–∫—É.\"</li>\n        </ul>\n\n        <h3 className=\"text-lg font-medium text-slate-700\">–ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –ø—Ä–æ–º—Ç–æ–≤:</h3>\n        <div className=\"space-y-2\">\n          <blockquote className=\"border-l-4 border-sky-500 pl-3 py-1 bg-slate-50 text-slate-700 rounded-r-md\">\n            <p>\"–ú–Ω–µ –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —ç–∫–∑–∞–º–µ–Ω—É –ø–æ –º–∞—Ç–∞–Ω–∞–ª–∏–∑—É, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Å—Ç–æ–∏—Ç—Å—è —á–µ—Ä–µ–∑ 3 –Ω–µ–¥–µ–ª–∏. –ü–æ–º–æ–≥–∏ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –∏–∑—É—á–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ–º.\"</p>\n          </blockquote>\n          <blockquote className=\"border-l-4 border-sky-500 pl-3 py-1 bg-slate-50 text-slate-700 rounded-r-md\">\n            <p>\"–•–æ—á—É –Ω–∞–ø–∏—Å–∞—Ç—å —Å–µ—Ä–∏—é –∏–∑ 5 —Å—Ç–∞—Ç–µ–π –¥–ª—è –±–ª–æ–≥–∞ –Ω–∞ —Ç–µ–º—É '–û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ'. –°—Ä–æ–∫ ‚Äì –º–µ—Å—è—Ü. –ü–æ–º–æ–≥–∏ —Ä–∞–∑–±–∏—Ç—å —Ä–∞–±–æ—Ç—É.\"</p>\n          </blockquote>\n          <blockquote className=\"border-l-4 border-sky-500 pl-3 py-1 bg-slate-50 text-slate-700 rounded-r-md\">\n            <p>\"–ü–ª–∞–Ω–∏—Ä—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–æ–µ–∫—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —á–∞—Ç-–±–æ—Ç–∞ –¥–ª—è Telegram. –ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã –º–Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –∑–∞ –ø–µ—Ä–≤—ã–µ –¥–≤–µ –Ω–µ–¥–µ–ª–∏?\"</p>\n          </blockquote>\n           <blockquote className=\"border-l-4 border-sky-500 pl-3 py-1 bg-slate-50 text-slate-700 rounded-r-md\">\n            <p>\"–ú–Ω–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –≤—Å–µ –Ω–∞–∫–æ–ø–∏–≤—à–∏–µ—Å—è —Ä–∞–±–æ—á–∏–µ –∏–º–µ–π–ª—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é. –ò—Ö –æ–∫–æ–ª–æ 50. –ö–∞–∫ –º–Ω–µ –ª—É—á—à–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?\"</p>\n          </blockquote>\n        </div>\n\n        <h3 className=\"text-lg font-medium text-slate-700\">–ß—Ç–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∏–π (–∏–ª–∏ –º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ):</h3>\n        <ul className=\"list-disc list-outside ml-5 space-y-1 text-slate-600\">\n          <li><strong>–°–ª–∏—à–∫–æ–º –æ–±—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã:</strong> \"–ü–æ–º–æ–≥–∏ –º–Ω–µ —Å –¥–µ–ª–∞–º–∏.\" (–ò–ò, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø–æ–ø—Ä–æ—Å–∏—Ç —É—Ç–æ—á–Ω–∏—Ç—å, —Å –∫–∞–∫–∏–º–∏ –∏–º–µ–Ω–Ω–æ).</li>\n          <li><strong>–û—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –∏ –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏:</strong> \"–ü–æ–∑–≤–æ–Ω–∏—Ç—å –º–∞–º–µ.\" (–î–ª—è —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á –ò–ò-–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–∑–±—ã—Ç–æ—á–µ–Ω, –∏—Ö –ø—Ä–æ—â–µ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é).</li>\n          <li><strong>–ó–∞–ø—Ä–æ—Å—ã, –Ω–µ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—é—â–∏–µ —Ä–∞–∑–±–∏–≤–∫—É –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏:</strong> \"–ö–∞–∫–∞—è —Å–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–¥–∞?\"</li>\n        </ul>\n        <p className=\"text-slate-600\">–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –ø—Ä–æ–º—Ç–∞–º–∏, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Ç–æ—Ç —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è —Å –ò–ò-–ü–æ–º–æ—â–Ω–∏–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è –≤–∞—Å!</p>\n      </section>\n\n      <footer className=\"pt-6 border-t border-slate-200\">\n        <p className=\"text-center text-slate-500 text-sm\">\n          –ù–∞–¥–µ–µ–º—Å—è, —ç—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –±—ã–ª–æ –ø–æ–ª–µ–∑–Ω—ã–º. –£—Å–ø–µ—à–Ω–æ–π –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å ADHD Workflow!\n        </p>\n      </footer>\n    </div>\n  );\n};\n\nexport default HelpSection;","import React, { useState } from 'react';\r\nimport Sidebar from './components/Sidebar';\r\nimport { ThemeSettings } from './components/ThemeSettings';\r\nimport RemindersBar from '../components/RemindersBar';\r\nimport TodoList from '../components/TodoList';\r\nimport TaskCalendar from '../components/TaskCalendar';\r\nimport FocusTip from '../components/FocusTip';\r\nimport WeeklyProgressReward from '../components/WeeklyProgressReward';\r\nimport Checklist from '../components/Checklist';\r\nimport Assistant from '../components/Assistant';\r\nimport PomodoroTimer from '../components/PomodoroTimer';\r\nimport HelpSection from '../components/HelpSection';\r\nimport { ThemeProvider } from './contexts/ThemeContext';\r\nimport { ActiveView } from './types';\r\n\r\nconst App: React.FC = () => {\r\n  const [activeView, setActiveView] = useState<ActiveView>('tasks');\r\n  const [showSettings, setShowSettings] = useState(false);\r\n\r\n  return (\r\n    <ThemeProvider>\r\n      <div className=\"min-h-screen flex bg-slate-50 dark:bg-slate-900\">\r\n        <Sidebar\r\n          activeView={activeView}\r\n          setActiveView={setActiveView}\r\n          onSettingsClick={() => setShowSettings(true)}\r\n        />\r\n        <main className=\"flex-1 flex flex-col min-h-screen p-4 md:p-8 gap-4\">\r\n          <RemindersBar />\r\n          <div className=\"mb-4\">\r\n            <FocusTip />\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            {activeView === 'tasks' && <TodoList />}\r\n            {activeView === 'calendar' && <TaskCalendar />}\r\n            {activeView === 'checklist' && <Checklist />}\r\n            {activeView === 'assistant' && <Assistant />}\r\n            {activeView === 'pomodoro' && <PomodoroTimer />}\r\n            {activeView === 'help' && <HelpSection />}\r\n          </div>\r\n          <div className=\"mt-8 flex justify-center\">\r\n            <WeeklyProgressReward />\r\n          </div>\r\n        </main>\r\n        {showSettings && (\r\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\">\r\n            <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 max-w-lg w-full relative\">\r\n              <button\r\n                className=\"absolute top-3 right-3 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 text-2xl focus-ring\"\r\n                onClick={() => setShowSettings(false)}\r\n                aria-label=\"–ó–∞–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\"\r\n              >\r\n                &times;\r\n              </button>\r\n              <ThemeSettings />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root')!);\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","Sidebar","activeView","setActiveView","onSettingsClick","menuItems","jsxs","motion","jsx","item","defaultColorSchemes","defaultSettings","ThemeContext","createContext","ThemeProvider","children","settings","setSettings","useState","saved","useEffect","systemDark","getFontSize","getSpacing","getBorderRadius","updateSettings","newSettings","prev","useTheme","context","useContext","size","spacing","radius","ThemeSettings","colorSchemes","handleModeChange","mode","handleColorSchemeChange","scheme","handleInterfaceChange","interfaceSettings","API_URL","fetchUserTasks","res","createUserTask","task","updateUserTask","id","updates","deleteUserTask","getTaskDateTime","year","month","day","hour","minute","RemindersBar","tasks","setTasks","loading","setLoading","error","setError","overdueTasks","upcomingTasks","useMemo","now","overdue","upcoming","todayDate","tomorrowDate","taskDateTime","taskDateOnly","a","_a","_b","renderTaskItem","type","displayTime","formatDate","dateString","formatTime","timeString","priorityMap","TodoItem","React","onToggle","onDelete","formattedDueDate","formattedDueTime","isPastDue","priorityInfo","DAYS_OF_WEEK_LABELS","MONTH_NAMES_RU","MiniCalendarDatePicker","selectedDate","onDateSelect","onClose","minDate","today","initialDate","currentMonthDate","setCurrentMonthDate","pickerRef","useRef","minDateObj","handleClickOutside","event","changeMonth","offset","newDate","handleDayClick","firstDayOfMonth","lastDayOfMonth","startingDayOfWeek","daysInMonthGrid","i","dayObject","index","dayStr","isSelected","isToday","isDisabled","sortTasks","priorityOrder","aPriorityVal","bPriorityVal","aDueDateMs","bDueDateMs","TodoList","newTaskText","setNewTaskText","newDueDate","setNewDueDate","newDueTime","setNewDueTime","newPriority","setNewPriority","showDatePicker","setShowDatePicker","datePickerButtonRef","addTask","useCallback","newTask","created","toggleTask","t","updated","deleteTaskHandler","handleDateSelect","date","formatDateForButton","priorityButtonClass","level","current","DEFAULT_POMODORO_SETTINGS","GOOGLE_CLIENT_ID","GOOGLE_API_KEY","GOOGLE_CALENDAR_SCOPES","useGoogleAuth","authState","setAuthState","accessToken","setAccessToken","gapiLoadedRef","gisInitializedRef","parseJwt","token","base64","jsonPayload","initAndLoadGapiClient","resolve","reject","err","initializeGis","credentialResponse","idToken","userInfoFromIdToken","requestAccessToken","gapiPromise","gisAttempts","gisInterval","tokenResponse","signIn","signOut","_c","_f","_e","_d","listUpcomingEvents","maxResults","events","detailedMessage","doesEventOccurOnDate","targetDate","eventStartStr","eventEndStr","eventStartDate","eventEndDate","exclusiveEndDate","CalendarDayPopover","items","positionRef","popoverRef","sortedItems","timeA","timeB","dateA","dateB","_g","_h","MonthView","googleEvents","onDayClick","selectedDayDate","dayRefs","todayFull","dayLabel","dayRef","dStr","localTasksOnThisDay","ot","lt","googleEventsOnThisDay","hasActiveLocalTasks","hasGoogleEvents","TaskCalendar","setGoogleEvents","currentDisplayDate","setCurrentDisplayDate","selectedDay","setSelectedDay","isSignedIn","user","authIsLoading","authError","eventsLoading","setEventsLoading","eventsError","setEventsError","isGoogleApiConfigured","fetchGoogleEventsCb","prevDate","dayLocalTasks","dayGoogleEvents","ref","relevantLocalTasks","rlt","combinedItems","start","eventDateObject","eventTime","year1","month1","nextMonthDate","year2","month2","todayStr","overdueTasksForTodaySection","localTasksDueToday","uniqueLocalTasksForTodaySection","googleEventsToday","combinedTodayItems","renderGoogleAuthButton","FocusTip","tip","setTip","isLoading","setIsLoading","fetchTip","errorMessage","getWeek","yearStart","getWeekId","weekNumber","getStartOfWeek","startDay","diff","startDate","getEndOfWeek","endDate","MAX_TASKS_FOR_REWARD","MUG_INNER_HEIGHT","LIQUID_BOTTOM_Y","WeeklyProgressReward","initialRewardState","rewardStatus","setRewardStatus","currentWeekId","startOfCurrentWeek","endOfCurrentWeek","completedTasksThisWeekCount","completedDate","isRewardClaimedForCurrentWeek","progressToDisplay","liquidCurrentHeight","liquidY","foamY","foamOpacity","titleText","Fragment","sortChecklistTasks","todayDateString","aDueTime","bDueTime","Checklist","todaysTasks","useLocalStorage","key","initialValue","reviver","readValue","parsed","storedValue","setStoredValue","setValue","value","valueToStore","handleStorageChange","parsedValue","Assistant","initialBotMessage","chatMessages","setChatMessages","userInput","setUserInput","isLoadingAI","setIsLoadingAI","chatEndRef","scrollToBottom","handleSendMessage","trimmedInput","userMessage","assistantMessage","handleApproveTasks","messageId","tasksToApprove","newTasks","pt","msg","confirmationMessage","handleRejectTasks","rejectionMessage","PomodoroPhase","Modal","title","modalRef","handleEsc","portalRoot","ReactDOM","PomodoroTimer","phase","setPhase","timeLeft","setTimeLeft","isRunning","setIsRunning","cyclesCompleted","setCyclesCompleted","isSettingsModalOpen","setIsSettingsModalOpen","timerId","audioRef","updateTimerForPhase","currentPhase","currentSettings","newTime","nextPhase","newCyclesCompleted","toggleTimer","resetCurrentPhaseTimer","handlePhaseChange","newPhase","seconds","minutes","secs","phaseConfig","currentPhaseConfig","initialDuration","progressPercentage","circumference","strokeDashoffset","handleSettingsSave","pKey","PomodoroSettingsForm","onSave","formSettings","setFormSettings","handleChange","name","handleSubmit","HelpSection","App","showSettings","setShowSettings","root"],"mappings":"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","x_google_ignoreList":[0,1,2]}